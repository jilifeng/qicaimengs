<module>
<baseinfo>
name=畅言评论模块
team=畅言团队
time=2015-10-20
email=changyan@sohu-inc.com
url=http://changyan.kuaizhan.com
hash=4515f3c2378bbefd5809ca0e1035f8b8
indexname=0
indexurl=
ismember=0
autosetup=1
autodel=1
lang=utf-8
moduletype=soft
</baseinfo>
<systemfile>
<menustring>
PG06dG9wIG5hbWU9J+eVheiogOivhOiuuicgZGlzcGxheT0nYmxvY2snPg0KPG06aXRlbSBuYW1lPSfnlYXoqIDmqKHlnZcnIGxpbms9J2NoYW5neWFuX21haW4ucGhwJyByYW5rPSdzeXNfRmVlZGJhY2snIHRhcmdldD0nbWFpbicvPg0KPG06aXRlbSBuYW1lPSfor4TorrrnrqHnkIYnIGxpbms9J2NoYW5neWFuX21haW4ucGhwP2RvcG9zdD1tYW5hZ2UnIHJhbms9J3N5c19GZWVkYmFjaycgdGFyZ2V0PSdtYWluJy8+DQo8bTppdGVtIG5hbWU9J+aVsOaNrue7n+iuoScgbGluaz0nY2hhbmd5YW5fbWFpbi5waHA/ZG9wb3N0PXN0YXQnIHJhbms9J3N5c19GZWVkYmFjaycgdGFyZ2V0PSdtYWluJy8+DQo8bTppdGVtIG5hbWU9J+WvvOWFpeWvvOWHuicgbGluaz0nY2hhbmd5YW5fbWFpbi5waHA/ZG9wb3N0PWltcG9ydCcgcmFuaz0nc3lzX0ZlZWRiYWNrJyB0YXJnZXQ9J21haW4nLz4NCjxtOml0ZW0gbmFtZT0n55WF6KiA6K6+572uJyBsaW5rPSdjaGFuZ3lhbl9tYWluLnBocD9kb3Bvc3Q9c2V0dGluZycgcmFuaz0nc3lzX0ZlZWRiYWNrJyB0YXJnZXQ9J21haW4nLz4NCjwvbTp0b3A+
</menustring>
<readme>
PGRpdiBjbGFzcz0iY29udGVudCI+DQoJPGRpdiBjbGFzcz0idGl0bGUiPuamgui/sDwvZGl2Pg0KCTxwIGNsYXNzPSJzdGVwX3RpdGxlIj4x44CB55WF6KiA5piv5LuA5LmI77yfPC9wPg0KCTxwIGNsYXNzPSJzdGVwX2NvbnRlbnQiPueVheiogOaYr+S4muWGhemihuWFiOeahOekvuS8muWMluivhOiuuuezu+e7n++8jOaUr+aMgVBD5ZKM56e75Yqo56uv5Lik56eN5o6l5YWl5pa55byP77yM5Li6572R56uZ5o+Q5L6b5LqG5LiA56eN5YWo5paw55qE6K+E6K665pa55byP44CC55WF6KiA5oul5pyJ5aSa56eN5bi455So6LSm5Y+355m75b2V44CB5LiJ6YeN5a6h5qC45py65Yi244CB5a6e5pe255qE5pWw5o2u57uf6K6h44CB5b+r5o235pWw5o2u5a+85Ye644CB5YWo6Z2i5pSv5oyB56e75Yqo56uv562J6aKG5YWI5Yqf6IO944CC5YWF5YiG5ruh6Laz5LqG5b2T5YmN5ZCE5aSn572R56uZ5a+55LqO55So5oi355m75b2V44CB6K+E6K6644CB5YiG5LqrIOOAgeWuoeaguOetieaWuemdoueahOmcgOaxguOAgjwvcD4NCgk8cCBjbGFzcz0ic3RlcF90aXRsZSI+MuOAgeeVheiogOWmguS9leS/neivgeaVsOaNruWuieWFqO+8nzwvcD4NCgk8cCBjbGFzcz0ic3RlcF9jb250ZW50Ij7nvZHnq5nmjqXlhaXnlYXoqIDlkI7vvIzomb3nhLbor4TorrrmlbDmja7kuqfnlJ/lnKjnlYXoqIDmnI3liqHlmajvvIzkvYblkI7lj7Dmj5Dkvpvlv6vmjbfmlbDmja7lr7zlh7rkuI7lvIDmlL5hcGnmjqXlj6PnrYnmlrnlvI/kv53pmpznvZHnq5nlrp7ml7bojrflj5bmnKznq5nmlbDmja7jgILlkIzml7bvvIznlYXoqIDlnKjnvZHnq5npnIDopoHml7bvvIzlj6/ku6Xnrb7orqLkv53lr4bljY/orq7vvIzkv53pmpzmiYDmnInmlbDmja7nmoTlronlhajmgKfjgII8L3A+DQoJPHAgY2xhc3M9InN0ZXBfdGl0bGUiPjPjgIHnlYXoqIDlpoLkvZXkv53or4HlrqHmoLjlronlhajvvJ88L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+55WF6KiA5Zyo5Lia5YaF546H5YWI5a6e546w5LiJ6YeN5a6h5qC45py65Yi244CC5b2T6K+E6K665pWw5o2u5Lqn55Sf5ZCO77yM6aaW5YWI57uP6L+H5pCc54uQ5Z6D5Zy+6L+H5ruk57O757uf77yM6Ziy54GM5rC044CB6Ziy5Z6D5Zy+44CB6Ziy5bm/5ZGK77yb54S25ZCO57uP6L+H5pCc54uQ5LiT5Lia55qE5Lq65bel5a6h5qC45Zui6Zif77yM5Lil5qC85riF55CG5pS/5rK75pWP5oSf5oCn5L+h5oGv77yM5ZCM5pe26L+d56aB6K+N5bqT5Lya5qC55o2u5Zu95a625pS/562W6YCa55+l77yM5a6e5pe25pu05paw77yb5pyA5ZCO5piv572R56uZ55qE6Ieq5Li75a6h5qC477yM5omA5pyJ55WF6KiA5ZCI5L2c572R56uZ6YO95pyJ5LiT5bGe55qE566h55CG5ZCO5Y+w77yM566h55CG5omA5pyJ5pys572R6K+E6K6677yM5Y2z5L2/57uP6L+H5pCc54uQ5a6h5qC455qE6K+E6K6677yM572R56uZ5Lmf5pyJ5p2D6ZmQ5YaN5qyh5a6h5qC444CC572R56uZ5a+55pys56uZ6K+E6K665oul5pyJ5a6M5YWo55qE566h55CG77yM5Y+v5Lul6K6+572u5YWI5Y+R5ZCO5a6h5LiO5YWI5a6h5ZCO5Y+R562J5aSa56eN5a6h5qC45b2i5byP44CCPC9wPg0KCTxwIGNsYXNzPSJzdGVwX3RpdGxlIj4044CB5aaC5L2V5L+d6K+B55WF6KiA5pyN5Yqh55qE5oyB57ut5oCn77yM5Y+v6Z2g5oCn77yfPC9wPg0KCTxwIGNsYXNzPSJzdGVwX2NvbnRlbnQiPueVheiogOivhOiuuu+8jOS9nOS4uuaQnOeLkOe9keivhOiuuuezu+e7n+eahOWNh+e6p+eJiO+8jOacrOi6q+WwseWcqOS4uuaQnOeLkOacjeWKoe+8jOS6p+WTgeeahOWuieWFqOS4jueos+WumuaAp+avi+W6uOe9rueWkeOAguWQjOaXtu+8jOeVheiogOWPr+S7peS4juWQiOS9nOe9keermeetvuiuouWuieWFqOWNj+iuru+8jOS/nemanOWQiOS9nOe9keermeWuieWFqOeos+WumuaAp+mcgOaxguOAgjwvcD4NCgk8cCBjbGFzcz0ic3RlcF90aXRsZSI+NeOAgeeVheiogOaYr+WFjei0ueeahOWQl++8nzwvcD4NCgk8cCBjbGFzcz0ic3RlcF9jb250ZW50Ij7nlYXoqIDkvZzkuLrmlrDkuIDku6PnmoTor4Torrrns7vnu5/vvIzlhY3otLnkuLrlub/lpKflkIjkvZznvZHnq5nmj5Dkvpvlronlhajlj6/pnaDnmoTmnI3liqHjgILkvYbnlYXoqIDkv53nlZnlj6/og73nmoTlop7lgLzmnI3liqHmlLbotLnmnYPliKnjgII8L3A+DQoJPHAgY2xhc3M9InN0ZXBfdGl0bGUiPjbjgIHnvZHnq5nlpoLkvZXojrflj5bor4TorrrmlbDmja7vvJ88L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+5omA5pyJ5ZCI5L2c572R56uZ77yM5Zyo55WF6KiA566h55CG5ZCO5Y+w77yM6YO95pyJ5LiA6ZSu5pWw5o2u5a+85Ye65Yqf6IO977yM572R56uZ5Y+v5Lul5qC55o2u6ZyA6KaB6YCJ5oup5a+85Ye65pWw5o2u44CC5ZCM5pe277yM55WF6KiA5o+Q5L6b5byA5pS+5o6l5Y+j77yM5ruh6Laz572R56uZ5pu05aSa5YWD5YyW5pWw5o2u5a+85Ye66ZyA5rGC44CC5Y+m5aSW77yM5a+55LqO572R56uZ5LmL5YmN55qE6K+E6K665pWw5o2u5Lmf5Y+v5Lul6YCa6L+H55WF6KiA5a+85YWl77yM6K+E6K665rC45LiN5Lii5aSx44CCPC9wPg0KCTxwIGNsYXNzPSJzdGVwX3RpdGxlIj4344CB572R56uZ6LSm5Y+35aaC5L2V5LiO55WF6KiA57uT5ZCI77yfPC9wPg0KCTxwIGNsYXNzPSJzdGVwX2NvbnRlbnQiPuebruWJjeeVheiogOaPkOS+m+WNleeCueeZu+W9leaWueahiOiDveWkn+ino+WGs+atpOmXrumimO+8jOWFt+S9k+ivt+WPguingTxhIGhyZWY9ImEtc3NvLmh0bWwiPuWNleeCueeZu+W9lTwvYT7jgII8L3A+DQoJPHAgY2xhc3M9InN0ZXBfdGl0bGUiPjjjgIHku4DkuYjmmK/nlYXoqIB2aXDotKblj7fvvIx2aXDotKblj7flpoLkvZXnlLPor7fvvJ88L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+VklQ6LSm5Y+377yM5oul5pyJ5YiG6aKR6YGT566h55CG5LiO57uf6K6h5YiG5p6Q44CB566h55CG5ZGY5L2T57O76K6+572u44CB5LiA5a+55LiA5oqA5pyv5a6i5pyN562J5aSa56eN5Yqf6IO95LiO5pyN5Yqh77yM6K+m5oOF6K+36IGU57O755WF6KiA5a6i5pyN44CCPC9wPg0KCTxwIGNsYXNzPSJzdGVwX3RpdGxlIj4544CB55WF6KiA5piv5ZCm5pSv5oyB5aSa6aKR6YGT77yM5aSa6LSm5Y+3566h55CG77yfPC9wPg0KCTxwIGNsYXNzPSJzdGVwX2NvbnRlbnQiPumAmui/h+eUs+ivt+eVheiogHZpcOi0puWPt++8jOiOt+WPluWkmumikemBk++8jOWkmui0puWPt+euoeeQhuacjeWKoe+8jOWmguaciemcgOimgeivt+iBlOezu+WuouacjeOAgjwvcD4NCgk8cCBjbGFzcz0ic3RlcF90aXRsZSI+MTDjgIHlpoLkvZXlhbPpl63or4Torro8L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+55WF6KiA5pSv5oyB5YWz6Zet5Y2V56+H5paH56ug6K+E6K6655qE5Yqf6IO944CCPC9wPg0KPC9kaXY+
</readme>
<setupsql40>
RFJPUCBUQUJMRSBJRiBFWElTVFMgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgOw0KQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgICgNCiAgYHNrZXlgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCBERUZBVUxUICcnLA0KICBgc3ZhbHVlYCB0ZXh0IE5PVCBOVUxMLA0KICBgc3RpbWVgIGludCgxMCkgTk9UIE5VTEwsDQogIFBSSU1BUlkgS0VZIChgc2tleWApDQopIFRZUEU9TXlJU0FNOw0KSU5TRVJUIElOVE8gYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIChgc2tleWAsIGBzdmFsdWVgLCBgc3RpbWVgKSBWQUxVRVMNCignYXBwaWQnLCAnMCcsIDApLA0KKCdpZCcsICcwJywgMCksDQooJ2lzdl9pZCcsICcwJywgMCksDQooJ3VzZXInLCAnMCcsIDApLA0KKCdwd2QnLCAnMCcsIDApOw==
</setupsql40>
<delsql>
RFJPUCBUQUJMRSBJRiBFWElTVFMgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgOw0KRFJPUCBUQUJMRSBJRiBFWElTVFMgYCNAX19wbHVzX2NoYW5neWFuX2ltcG9ydGlkc2A7DQpEUk9QIFRBQkxFIElGIEVYSVNUUyBgI0BfX3BsdXNfY2hhbmd5YW5faW5zZXJ0aWRzYDs=
</delsql>
<setup>

</setup>
<uninstall>

</uninstall>
<oldfilelist>
changyan_main.php
../include/helpers/changyan.helper.php
../include/taglib/changyan.lib.php
</oldfilelist>
</systemfile>
<modulefiles>
<file type='file' name='changyan_main.php'>
PD9waHANCi8vQHNlc3Npb25fc3RhcnQoKTsNCnJlcXVpcmVfb25jZShkaXJuYW1lKF9fRklMRV9fKS4iL2NvbmZpZy5waHAiKTsNCnJlcXVpcmVfb25jZShERURFSU5DLiIvb3h3aW5kb3cuY2xhc3MucGhwIik7DQoNCmhlbHBlcignY2hhbmd5YW4nKTsNCg0KaWYoZW1wdHkoJGRvcG9zdCkpICRkb3Bvc3QgPSAnJzsNCmlmKGVtcHR5KCRhY3Rpb24pKSAkYWN0aW9uID0gJyc7DQppZihlbXB0eSgkbm9jaGVjaykpICRub2NoZWNrID0gJyc7DQppZihlbXB0eSgkZm9yd2FyZCkpICRmb3J3YXJkID0gJyc7DQoNCiRfU0VTU0lPTlsnY2hhbmd5YW4nXSA9ICFlbXB0eSgkX1NFU1NJT05bJ2NoYW5neWFuJ10pPyAkX1NFU1NJT05bJ2NoYW5neWFuJ10gOiAwOw0KJF9TRVNTSU9OWyd1c2VyJ10gPSAhZW1wdHkoJF9TRVNTSU9OWyd1c2VyJ10pPyAkX1NFU1NJT05bJ3VzZXInXSA6ICcnOw0KDQokYXBwaWQ9JGNsaWVudF9pZD1jaGFuZ3lhbl9nZXRfc2V0dGluZygnYXBwaWQnKTsNCg0KaWYgKCRjZmdfZmVlZGJhY2tfZm9yYmlkPT0nTicgQU5EICFlbXB0eSgkY2xpZW50X2lkKSkgew0KICAgICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCJVUERBVEUgYCNAX19zeXNjb25maWdgIFNFVCBgdmFsdWVgPSdZJyBXSEVSRSBgdmFybmFtZWA9J2NmZ19mZWVkYmFja19mb3JiaWQnOyIpOw0KICAgIGNoYW5neWFuX1JlV3JpdGVDb25maWcoKTsNCiAgICBTaG93TXNnKCLlt7Lnu4/npoHnlKhEZWRlQ01T6buY6K6k6K+E6K6677yM5byA5ZCv55WF6KiA6K+E6K6677yBIiwiPyIpOw0KICAgIGV4aXQoKTsNCn0NCg0KaWYoZW1wdHkoJF9TRVNTSU9OWyd1c2VyJ10pIEFORCBlbXB0eSgkbm9jaGVjaykpDQp7DQogICAgJGRiX3VzZXIgPSBjaGFuZ3lhbl9nZXRfc2V0dGluZygndXNlcicpOw0KICAgICRkYl9wd2Q9Y2hhbmd5YW5fbWNoU3RyQ29kZShjaGFuZ3lhbl9nZXRfc2V0dGluZygncHdkJyksICdERUNPREUnKTsNCg0KICAgIGlmKCFlbXB0eSgkZGJfdXNlcikgQU5EICFlbXB0eSgkZGJfcHdkKSkNCiAgICB7DQogICAgICAgIGhlYWRlcignTG9jYXRpb246P2RvcG9zdD1xdWlja19sb2dpbiZub2NoZWNrPXllcyZmb3J3YXJkPScuJGZvcndhcmQpOw0KICAgICAgICBleGl0KCk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgLy9oZWFkZXIoJ0xvY2F0aW9uOj9kb3Bvc3Q9bG9naW4mbm9jaGVjaz15ZXMmZm9yd2FyZD0nLiRmb3J3YXJkKTsNCiAgICAgICAgLy9leGl0KCk7DQogICAgfQ0KfQ0KLy9hdXRvIHVwZGF0ZQ0KJHZlcnNpb249Y2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3ZlcnNpb24nKTsNCmlmIChlbXB0eSgkdmVyc2lvbikpICR2ZXJzaW9uID0gJzAuMC4xJzsNCmlmICh2ZXJzaW9uX2NvbXBhcmUoJHZlcnNpb24sIENIQU5HWUFOX1ZFUiwgJzwnKSkgew0KICAgICRteXNxbF92ZXJzaW9uID0gJGRzcWwtPkdldFZlcnNpb24oVFJVRSk7DQoNCiAgICBmb3JlYWNoICgkdXBkYXRlX3NxbHMgYXMgJHZlciA9PiAkc3Fscykgew0KICAgICAgICBpZiAodmVyc2lvbl9jb21wYXJlKCR2ZXIsICR2ZXJzaW9uLCc8JykpIHsNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgIGZvcmVhY2ggKCRzcWxzIGFzICRzcWwpIHsNCiAgICAgICAgICAgICRzcWwgPSBwcmVnX3JlcGxhY2UoIiNFTkdJTkU9TXlJU0FNI2kiLCAnVFlQRT1NeUlTQU0nLCAkc3FsKTsNCiAgICAgICAgICAgICRzcWw0MXRtcCA9ICdFTkdJTkU9TXlJU0FNIERFRkFVTFQgQ0hBUlNFVD0nLiRjZmdfZGJfbGFuZ3VhZ2U7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmKCRteXNxbF92ZXJzaW9uID49IDQuMSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkc3FsID0gcHJlZ19yZXBsYWNlKCIjVFlQRT1NeUlTQU0jaSIsICRzcWw0MXRtcCwgJHNxbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkc3FsKTsNCiAgICAgICAgfQ0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygndmVyc2lvbicsICR2ZXIpOw0KICAgICAgICAkdmVyc2lvbj1jaGFuZ3lhbl9nZXRfc2V0dGluZygndmVyc2lvbicpOw0KICAgIH0NCiAgICAkaXN2X2FwcF9rZXkgPSBjaGFuZ3lhbl9nZXRfaXN2X2FwcF9rZXkoKTsNCn0NCg0KaWYgKCRkb3Bvc3Q9PSdxdWlja19sb2dpbicpDQp7DQogICAgJHVzZXIgPSBjaGFuZ3lhbl9nZXRfc2V0dGluZygndXNlcicpOw0KICAgICRwd2Q9Y2hhbmd5YW5fbWNoU3RyQ29kZShjaGFuZ3lhbl9nZXRfc2V0dGluZygncHdkJyksICdERUNPREUnKSA7DQogICAgJHNpZ249Y2hhbmd5YW5fZ2VuX3NpZ24oJHVzZXIpOw0KICAgICRwYXJhbXNBcnI9YXJyYXkoDQogICAgICAgICdjbGllbnRfaWQnPT5DSEFOR1lBTl9DTElFTlRfSUQsDQogICAgICAgICd1c2VyJz0+JHVzZXIsDQogICAgICAgICdwYXNzd29yZCc9PiRwd2QsDQogICAgICAgICdzaWduJz0+JHNpZ24pOw0KICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0xPR0lOLDAsJHBhcmFtc0Fycik7DQogICAgJHJlc3VsdD1qc29uX2RlY29kZSgkcnMsVFJVRSk7DQogICAgaWYoJHJlc3VsdFsnc3RhdHVzJ109PTApDQogICAgew0KICAgICAgICAkaXN2X2lkID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ2lzdl9pZCcpOw0KICAgICAgICAkaXN2cyA9IGNoYW5neWFuX2dldF9pc3ZzKCk7DQogICAgICAgICRpc3ZfaW4gPSBGQUxTRTsNCiAgICAgICAgaWYoIWVtcHR5KCRpc3ZfaWQpKSB7DQogICAgICAgICAgICBmb3JlYWNoKCRpc3ZzIGFzICRpc3Ypew0KICAgICAgICAgICAgICAgIGlmKCRpc3ZbJ2lkJ109PSRpc3ZfaWQpDQogICAgICAgICAgICAgICAgICAgICRpc3ZfaW49VFJVRTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAkX1NFU1NJT05bJ2NoYW5neWFuJ109JHJlc3VsdFsndG9rZW4nXTsNCiAgICAgICAgJF9TRVNTSU9OWyd1c2VyJ109JHVzZXI7DQogICAgICAgIGlmKCEkaXN2X2luKQ0KICAgICAgICB7DQogICAgICAgICAgICBTaG93TXNnKCLlsJrmnKrorr7nva7nq5nngrlBUFDkv6Hmga/vvIzor7fov5vooYzphY3nva7igKbigKYiLCc/ZG9wb3N0PWNoYW5nZV9hcHBpbmZvJyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBoZWFkZXIoJ0xvY2F0aW9uOj9mb3J3YXJkPScuJGZvcndhcmQpOw0KICAgICAgICB9DQogICAgICAgIGV4aXQoKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygncHdkJywgJycpOw0KICAgICAgICBTaG93TXNnKCLnmbvlvZXlpLHotKXvvIwiLiRyZXN1bHRbJ21zZyddLCc/Jyk7DQogICAgICAgIGV4aXQoKTsNCiAgICB9DQp9IGVsc2VpZiAoJGRvcG9zdD09J2xvZ2luJykgew0KICAgICR1c2VyID0gZW1wdHkoJHVzZXIpPyAnJyA6ICR1c2VyOw0KICAgICRwd2QgPSBlbXB0eSgkcHdkKT8gJycgOiAkcHdkOw0KICAgICRzaWduPWNoYW5neWFuX2dlbl9zaWduKCR1c2VyKTsNCiAgICAkcGFyYW1zQXJyPWFycmF5KA0KICAgICAgICAnY2xpZW50X2lkJz0+Q0hBTkdZQU5fQ0xJRU5UX0lELA0KICAgICAgICAndXNlcic9PiR1c2VyLA0KICAgICAgICAncGFzc3dvcmQnPT4kcHdkLA0KICAgICAgICAnc2lnbic9PiRzaWduKTsNCiAgICAkcnM9Y2hhbmd5YW5faHR0cF9zZW5kKENIQU5HWUFOX0FQSV9MT0dJTiwwLCRwYXJhbXNBcnIpOw0KICAgICRyZXN1bHQ9anNvbl9kZWNvZGUoJHJzLFRSVUUpOw0KICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCd1c2VyJywgJHVzZXIpOw0KICAgIGlmICgkcmVzdWx0WydzdGF0dXMnXT09MCkNCiAgICB7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCd1c2VyJywgJHVzZXIpOw0KICAgICAgICAkcHdkID0gY2hhbmd5YW5fbWNoU3RyQ29kZSgkcHdkLCAnRU5DT0RFJyk7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdwd2QnLCAkcHdkKTsNCiAgICAgICAgJF9TRVNTSU9OWydjaGFuZ3lhbiddPSRyZXN1bHRbJ3Rva2VuJ107DQogICAgICAgICRfU0VTU0lPTlsndXNlciddPSR1c2VyOw0KICAgICAgICAkbG9naW5fdXJsPUNIQU5HWUFOX0FQSV9TRVRDT09LSUUuJz9jbGllbnRfaWQ9Jy5DSEFOR1lBTl9DTElFTlRfSUQuJyZ0b2tlbj0nLiRyZXN1bHRbJ3Rva2VuJ107DQogICAgICAgIGVjaG8gPDw8RU9UDQo8aWZyYW1lIHNyYz0ieyRsb2dpbl91cmx9IiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iYm9yZGVyOm5vbmUiPjwvaWZyYW1lPg0KRU9UOw0KICAgICAgICBTaG93TXNnKCLlsJrmnKrorr7nva7nq5nngrlBUFDkv6Hmga/vvIzor7fov5vooYzphY3nva7igKbigKYiLCc/ZG9wb3N0PWNoYW5nZV9hcHBpbmZvJyk7DQogICAgICAgIGV4aXQoKTsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICAgICRfU0VTU0lPTlsnY2hhbmd5YW4nXSA9IDA7DQogICAgICAgICRfU0VTU0lPTlsndXNlciddID0gJyc7DQogICAgICAgIHVuc2V0KCRfU0VTU0lPTlsnY2hhbmd5YW4nXSk7DQogICAgICAgIHVuc2V0KCRfU0VTU0lPTlsndXNlciddKTsNCiAgICAgICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ3B3ZCcsICcnKTsNCiAgICAgICAgU2hvd01zZygi55m75b2V5aSx6LSl77yMIi4kcmVzdWx0Wydtc2cnXSwnPycpOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KfSBlbHNlaWYgKCRkb3Bvc3Q9PSdjaGFuZ2VfYXBwaW5mbycpIHsNCiAgICAkaXN2c3RyPSI8cD4g6YCJ5oup5oKo6ZyA6KaB6K6+572u55qEQVBQSUTvvJo8L3A+IjsNCiAgICAkanF1ZXJ5X3NyYyA9ICBDSEFOR1lBTl9KUVVFUllfU1JDOw0KICAgICRpc3ZzX2pzb25wID0gY2hhbmd5YW5fZ2V0X2lzdnNfanNvbnAoKTsNCiAgICBlY2hvIDw8PEVPVA0KPGh0bWw+DQo8aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXskY2ZnX3NvZnRfbGFuZ30iPg0KPHRpdGxlPueVheiogOivhOiuuueuoeeQhjwvdGl0bGU+DQo8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJ7JGNmZ19wbHVzX2Rpcn0vaW1nL2Jhc2UuY3NzIj4NCnskanF1ZXJ5X3NyY30NCnskaXN2c19qc29ucH0NCjwvaGVhZD4NCjxib2R5IGJhY2tncm91bmQ9J3skY2ZnX3BsdXNfZGlyfS9pbWcvYWxsYmcuZ2lmJyBsZWZ0bWFyZ2luPSI4IiB0b3BtYXJnaW49JzgnPg0KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBiZ2NvbG9yPSIjREZGOUFBIj4NCiAgPHRyPg0KICAgIDx0ZCBoZWlnaHQ9IjI4IiBzdHlsZT0iYm9yZGVyOjFweCBzb2xpZCAjREFEQURBIiBiYWNrZ3JvdW5kPSd7JGNmZ19wbHVzX2Rpcn0vaW1nL3diZy5naWYnPiZuYnNwOzxiPjxhIGhyZWY9Ij8iPuKXh+eVheiogOivhOiuuuaooeWdlyA8L2E+IOOAi+mFjee9rkFQUOS/oeaBrzwvYj48L3RkPg0KICA8L3RyPg0KICA8dHI+DQogIDx0ZCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSI4MCIgc3R5bGU9InBhZGRpbmctdG9wOjVweCIgYmdjb2xvcj0nI2ZmZmZmZic+DQogIDxzY3JpcHQgbGFuZ3VhZ2U9J2phdmFzY3JpcHQnPg0KZnVuY3Rpb24gQ2hlY2tTdWJtaXQoKXsNCglyZXR1cm4gdHJ1ZTsNCn0NCjwvc2NyaXB0Pg0KICA8Zm9ybSBuYW1lPSdteWZvcm0nIG1ldGhvZD0nUE9TVCcgb25TdWJtaXQ9J3JldHVybiBDaGVja1N1Ym1pdCgpOycgYWN0aW9uPSc/Jz4NCiAgPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nZG9wb3N0JyB2YWx1ZT0nc2F2ZV9hcHBpbmZvJz4NCiAgPHRhYmxlIHdpZHRoPScxMDAlJyAgYm9yZGVyPScwJyBjZWxscGFkZGluZz0nMycgY2VsbHNwYWNpbmc9JzEnIGJnY29sb3I9JyNEQURBREEnPg0KICAgIDx0ciBiZ2NvbG9yPScjREFEQURBJz4NCiAgICAgIDx0ZCBjb2xzcGFuPScyJyBiYWNrZ3JvdW5kPSd7JGNmZ19wbHVzX2Rpcn0vaW1nL3diZy5naWYnIGhlaWdodD0nMjYnPjxmb250IGNvbG9yPScjNjY2NjAwJz48Yj7nlYXoqIDor4TorrrnrqHnkIY8L2I+PC9mb250PjwvdGQ+DQogICAgPC90cj4NCiAgICA8dHIgYmdjb2xvcj0nI0ZGRkZGRic+DQogICAgICA8dGQgY29sc3Bhbj0nMicgIGhlaWdodD0nMTAwJz4NCiAgICAgIDx0YWJsZSB3aWR0aD0iOTglIiBib3JkZXI9IjAiIGNlbGxzcGFjaW5nPSIxIiBjZWxscGFkZGluZz0iMSI+DQogICAgICAgIDx0Ym9keT4NCiAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iMiIgaWQ9ImlzdnNDb250ZW50Ij4NCiAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgPC90cj4NCiAgICAgICAgPC90Ym9keT4NCiAgICAgIDwvdGFibGU+DQogICAgICA8L3RkPg0KICAgIDwvdHI+DQogICAgPHRyPg0KICAgICAgPHRkIGNvbHNwYW49JzInIGJnY29sb3I9JyNGOUZDRUYnPjx0YWJsZSB3aWR0aD0nMjcwJyBib3JkZXI9JzAnIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCc+DQogICAgICAgICAgPHRyIGFsaWduPSdjZW50ZXInIGhlaWdodD0nMjgnPg0KICAgICAgICAgICAgPHRkIHdpZHRoPSc5MCc+PGlucHV0IG5hbWU9J2ltYWdlRmllbGQxJyB0eXBlPSdpbWFnZScgY2xhc3M9J25wJyBzcmM9J3skY2ZnX3BsdXNfZGlyfS9pbWcvYnV0dG9uX29rLmdpZicgd2lkdGg9JzYwJyBoZWlnaHQ9JzIyJyBib3JkZXI9JzAnIC8+PC90ZD4NCiAgICAgICAgICAgIDx0ZCB3aWR0aD0nOTAnPjxhIGhyZWY9Jz9kb3Bvc3Q9YWRkc2l0ZScgc3R5bGU9ImNvbG9yOmJsdWUiPuWIm+W7ukFQUCBJRDwvYT48L3RkPg0KICAgICAgICAgICAgPHRkPjxhIGhyZWY9Jz8nIHN0eWxlPSJjb2xvcjpibHVlIj7ov5Tlm57kuIrkuIDpobU8L2E+PC90ZD4NCiAgICAgICAgICA8L3RyPg0KICAgICAgICA8L3RhYmxlPjwvdGQ+DQogICAgPC90cj4NCiAgPC90YWJsZT4NCiAgPC90ZD4NCiAgPC90cj4NCjwvdGFibGU+DQo8cCBhbGlnbj0iY2VudGVyIj4gPGJyPg0KICA8YnI+DQo8L3A+DQo8L2JvZHk+DQo8L2h0bWw+DQpFT1Q7DQp9IGVsc2VpZiAoJGRvcG9zdD09J3NhdmVfYXBwaW5mbycpIHsNCiAgICBpZiAoZW1wdHkoJGFwcEluZm8pKSB7DQogICAgICAgIFNob3dNc2coIuivt+mAieaLqeato+ehrueahEFwcElE5L+h5oGv77yBIiwgJz9kb3Bvc3Q9Y2hhbmdlX2FwcGluZm8nKTsNCiAgICAgICAgZXhpdCgpOw0KICAgIH0NCiAgICBsaXN0KCRhcHBpZCwkaXN2X2FwcF9rZXkpPWV4cGxvZGUoJ3wnLCRhcHBJbmZvKTsNCiAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnYXBwaWQnLCRhcHBpZCk7DQogICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ2lzdl9hcHBfa2V5JywkaXN2X2FwcF9rZXkpOw0KICAgICR1c2VyPWNoYW5neWFuX2dldF9zZXR0aW5nKCd1c2VyJyk7DQogICAgJHNpZ249Y2hhbmd5YW5fZ2VuX3NpZ24oJHVzZXIpOw0KICAgICRyZXN1bHQgPSBjaGFuZ3lhbl9nZXRjb2RlKENIQU5HWUFOX0NMSUVOVF9JRCwgJHVzZXIsIGZhbHNlLCAkc2lnbiwkYXBwaWQpOw0KICAgICRpc3ZfaWQgPSAkcmVzdWx0Wydpc3ZfaWQnXTsNCg0KICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdpc3ZfaWQnLCRpc3ZfaWQpOw0KICAgIGNoYW5neWFuX2NsZWFyY2FjaGUoKTsNCiAgICAkaXN2X2lkID0gaW50dmFsKCRpc3ZfaWQpOw0KICAgICRjaGFuZ2dlX2lzdl91cmwgPSBDSEFOR1lBTl9BUElfQ0hBTkdFX0lTVi4kaXN2X2lkOw0KICAgIGVjaG8gPDw8RU9UDQo8aWZyYW1lIHNyYz0ieyRjaGFuZ2dlX2lzdl91cmx9IiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iYm9yZGVyOm5vbmUiPjwvaWZyYW1lPg0KRU9UOw0KICAgIFNob3dNc2coIuaIkOWKn+iuvue9ruaWsOeahEFwcElE5Y+KQVBQS0VZ77yBIiwnPycsMCwzMDAwKTsNCiAgICBleGl0KCk7DQp9IGVsc2VpZiAoJGRvcG9zdD09J2xvZ291dCcpDQp7DQogICAgZWNobyA8PDxFT1QNCjxpZnJhbWUgc3JjPSJodHRwOi8vY2hhbmd5YW4ua3VhaXpoYW4uY29tL2xvZ291dCIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IjAiIGhlaWdodD0iMCI+PC9pZnJhbWU+DQpFT1Q7DQogICAgJF9TRVNTSU9OWydjaGFuZ3lhbiddID0gMDsNCiAgICAkX1NFU1NJT05bJ3VzZXInXSA9ICcnOw0KICAgIHVuc2V0KCRfU0VTU0lPTlsnY2hhbmd5YW4nXSk7DQogICAgdW5zZXQoJF9TRVNTSU9OWyd1c2VyJ10pOw0KICAgIGlmKCRmb3J3YXJkKQ0KICAgIHsNCiAgICAgICAgaGVhZGVyKCdMb2NhdGlvbjo/Zm9yd2FyZD0nLiRmb3J3YXJkKTsNCiAgICAgICAgZXhpdDsNCiAgICB9IGVsc2Ugew0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygncHdkJywgJycpOw0KICAgIH0NCiAgICBTaG93TXNnKCLmiJDlip/pgIDlh7rnlYXoqIDvvIEiLCc/Jyk7DQogICAgZXhpdCgpOw0KfSBlbHNlaWYgKCRkb3Bvc3Q9PSdhZGRzaXRlJykgew0KICAgICR1cmwgPSAkX1NFUlZFUlsnU0VSVkVSX05BTUUnXTsNCiAgICAkdXNlcj1jaGFuZ3lhbl9nZXRfc2V0dGluZygndXNlcicpOw0KICAgICRzaWduPWNoYW5neWFuX2dlbl9zaWduKCR1c2VyKTsNCiAgICAkcGFyYW1zQXJyPWFycmF5KA0KICAgICAgICAndXNlcic9PiR1c2VyLA0KICAgICAgICAnY2xpZW50X2lkJz0+Q0hBTkdZQU5fQ0xJRU5UX0lELA0KICAgICAgICAnaXN2X25hbWUnPT4nTmV3IGRlZGVjbXMgc2l0ZScsDQogICAgICAgICd1cmwnPT4kdXJsLA0KICAgICAgICAnc2lnbic9PiRzaWduKTsNCiAgICAkcnM9Y2hhbmd5YW5faHR0cF9zZW5kKENIQU5HWUFOX0FQSV9BRERTSVRFLDAsJHBhcmFtc0Fycik7DQogICAgJHJlc3VsdD1qc29uX2RlY29kZSgkcnMsVFJVRSk7DQogICAgaWYoJHJlc3VsdFsnc3RhdHVzJ109PTEpDQogICAgew0KICAgICAgICBTaG93TXNnKCLmt7vliqDmlrDnq5nngrnlpLHotKUiLCAnP2RvcG9zdD1jaGFuZ2VfYXBwaW5mbycpOw0KICAgICAgICBleGl0KCk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ2FwcGlkJywgJHJlc3VsdFsnYXBwaWQnXSk7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdpZCcsICRyZXN1bHRbJ2lkJ10pOw0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnaXN2X2lkJywgJHJlc3VsdFsnaXN2X2lkJ10pOw0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnaXN2X2FwcF9rZXknLCAkcmVzdWx0Wydpc3ZfYXBwX2tleSddKTsNCiAgICAgICAgJF9TRVNTSU9OWydjaGFuZ3lhbiddPSRyZXN1bHRbJ3Rva2VuJ107DQogICAgICAgIGNoYW5neWFuX2NsZWFyY2FjaGUoKTsNCiAgICAgICAgJGlzdl9pZCA9IGludHZhbCgkcmVzdWx0Wydpc3ZfaWQnXSk7DQogICAgICAgICRsb2dpbl91cmw9Q0hBTkdZQU5fQVBJX1NFVENPT0tJRS4nP2NsaWVudF9pZD0nLkNIQU5HWUFOX0NMSUVOVF9JRC4nJnRva2VuPScuJHJlc3VsdFsndG9rZW4nXTsNCiAgICAgICAgZWNobyA8PDxFT1QNCjxpZnJhbWUgc3JjPSJ7JGxvZ2luX3VybH0iIHNjcm9sbGluZz0ibm8iIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJib3JkZXI6bm9uZSI+PC9pZnJhbWU+DQpFT1Q7DQogICAgICAgIFNob3dNc2coIuaIkOWKn+a3u+WKoOermeeCueS/oeaBr++8jOi/m+ihjOermeeCueWIh+aNouKApuKApiIsJz9kb3Bvc3Q9Y2hhbmdlaXN2Jmlzdl9pZD0nLiRpc3ZfaWQsMCwzMDAwKTsNCiAgICAgICAgZXhpdDsNCiAgICB9DQp9IGVsc2VpZiAoJGRvcG9zdD09J2NoYW5nZWlzdicpIHsNCiAgICAkaXN2X2lkID0gaW50dmFsKCRpc3ZfaWQpOw0KICAgICRjaGFuZ2dlX2lzdl91cmwgPSBDSEFOR1lBTl9BUElfQ0hBTkdFX0lTVi4kaXN2X2lkOw0KICAgICRpc3ZfYXBwX2tleSA9IGNoYW5neWFuX2dldF9pc3ZfYXBwX2tleSgpOw0KICAgIGVjaG8gPDw8RU9UDQo8aWZyYW1lIHNyYz0ieyRjaGFuZ2dlX2lzdl91cmx9IiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iYm9yZGVyOm5vbmUiPjwvaWZyYW1lPg0KRU9UOw0KICAgIFNob3dNc2coIuaIkOWKn+WIh+aNouermeeCue+8gSIsJz8nKTsNCiAgICBleGl0KCk7DQp9IGVsc2VpZiAoJGRvcG9zdD09J21hbmFnZScgT1IgJGRvcG9zdD09J3N0YXQnIE9SICRkb3Bvc3Q9PSdzZXR0aW5nJw0KT1IgJGRvcG9zdD09ImltcG9ydCIpDQp7DQogICAgaWYoIWNoYW5neWFuX2lzbG9naW4oKSkNCiAgICB7DQogICAgICAgIFNob3dNc2coIuaCqOWwmuacqueZu+W9leeVheiogO+8jOivt+WFiOeZu+W9leWQjue7p+e7reS9v+eUqOKApuKApu+8gSIsJz8nKTsNCiAgICAgICAgZXhpdCgpOw0KICAgIH0NCiAgICBjaGFuZ3lhbl9jaGVja19pc2xvZ2luKCk7DQogICAgJGFkZHN0eWxlPSdzY3JvbGxpbmc9Im5vIiAnOw0KICAgICR0eXBlPSdhdWRpdCc7DQogICAgJGFwcGlkPWNoYW5neWFuX2dldF9zZXR0aW5nKCdhcHBpZCcpOw0KICAgIGlmKCRkb3Bvc3Q9PSdtYW5hZ2UnKSAkdHlwZT0nYXVkaXQnOw0KICAgIGVsc2VpZigkZG9wb3N0PT0nc3RhdCcpICR0eXBlPSdzdGF0JzsNCiAgICAkcHRpdGxlID0gJ+eVheiogOivhOiuuueuoeeQhic7DQoNCiAgICAkbWFuYWdlX3VybD0iaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2F1ZGl0L2NvbW1lbnRzL1RPQVVESVQvMSI7DQogICAgJGFkZHN0cj0nJzsNCiAgICBpZigkZG9wb3N0PT0nc2V0dGluZycpIA0KICAgIHsNCiAgICAgICAgJHB0aXRsZSA9ICLnlYXoqIDorr7nva4iOw0KICAgICAgICAkbWFuYWdlX3VybD0iaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL3NldHRpbmcvYmFzaWMiOw0KICAgICAgICANCiAgICB9IGVsc2VpZiAoJGRvcG9zdD09J3N0YXQnKQ0KICAgIHsNCiAgICAgICAgJHB0aXRsZSA9ICLmlbDmja7nu5/orqEiOw0KICAgICAgICAkbWFuYWdlX3VybD0iaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL3N0YXQtZGF0YS9jb21tZW50IjsNCiAgICB9IGVsc2VpZiAoJGRvcG9zdD09J2ltcG9ydCcpDQogICAgew0KICAgICAgICAkcHRpdGxlID0gIueVheiogOW3peWFtyI7DQogICAgICAgICRleHBvcnRfc3RyPSRpbXBvcnRfc3RyPScnOw0KICAgICAgICAkbWFuYWdlX3VybD0iP2RvcG9zdD1ibGFuayI7DQogICAgICAgICRsYXN0X2ltcG9ydD1jaGFuZ3lhbl9nZXRfc2V0dGluZygnbGFzdF9pbXBvcnQnKTsNCiAgICAgICAgJGxhc3RfZXhwb3J0PWNoYW5neWFuX2dldF9zZXR0aW5nKCdsYXN0X2V4cG9ydCcpOw0KICAgICAgICBpZiAoZW1wdHkoJGxhc3RfZXhwb3J0KSkgew0KICAgICAgICAgICAgJGV4cG9ydF9zdHIgPSAnPGZvbnQgY29sb3I9InJlZCI+5bCa5pyq5aSH5Lu977yM5bu66K6u5aSH5Lu977yBPC9mb250Pic7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAkZXhwb3J0X3RpbWUgPSBkYXRlKCdZLW0tZCBIOmk6cycsICRsYXN0X2V4cG9ydCk7DQogICAgICAgICAgICAkZXhwb3J0X3N0ciA9ICc8Zm9udCBjb2xvcj0iIzY2NiI+5pyA5ZCO5aSH5Lu95pel5pyf77yaJy4kZXhwb3J0X3RpbWUuJzwvZm9udD4nOw0KICAgICAgICB9DQogICAgICAgIGlmIChlbXB0eSgkbGFzdF9pbXBvcnQpKSB7DQogICAgICAgICAgICAkaW1wb3J0X3N0ciA9ICc8Zm9udCBjb2xvcj0icmVkIj7lsJrmnKrlr7zlh7pEZWRlQ01T6K+E6K665Yiw55WF6KiA77yBPC9mb250Pic7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAkaW1wb3J0X3RpbWUgPSBkYXRlKCdZLW0tZCBIOmk6cycsICRsYXN0X2ltcG9ydCk7DQogICAgICAgICAgICAkaW1wb3J0X3N0ciA9ICc8Zm9udCBjb2xvcj0iIzY2NiI+5pyA5ZCO5a+85Ye65pel5pyf77yaJy4kaW1wb3J0X3RpbWUuJzwvZm9udD4nOw0KICAgICAgICB9DQogICAgICAgICRhZGRzdHI9PDw8RU9UDQogICAgICAgIDx0ciBiZ2NvbG9yPScjRkZGRkZGJz4NCiAgICAgICAgICA8dGQgY29sc3Bhbj0nMicgaGVpZ2h0PSczMHB4JyBzdHlsZT0ncGFkZGluZzoyMHB4Jz4NCiAgICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQogICAgICAgICAgZnVuY3Rpb24gaXNnbyh1cmwsbXNnKSB7DQogICAgICAgICAgICAgIGlmKGNvbmZpcm0obXNnKSkgd2luZG93LmxvY2F0aW9uLmhyZWY9dXJsOw0KICAgICAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgICAgPC9zY3JpcHQ+DQogICAgICAgICAgPGlucHV0IHR5cGU9ImJ1dHRvbiIgc2l6ZT0iMTQiIG9uY2xpY2s9InJldHVybiBpc2dvKCc/ZG9wb3N0PWNoYW5neWFuX3RvX2RlZGVjbXMnLCfmmK/lkKblr7zlh7rnlYXoqIDliLBEZWRlQ01T6K+E6K6677yfJyk7IiB2YWx1ZT0i5a+85Ye655WF6KiA5YiwRGVkZUNNU+ivhOiuuiI+IA0KICAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6Izk5OSI+5bCG55WF6KiA5qih5Z2X5Lit55qE5pWw5o2u5a+85Ye65aSH5Lu95YiwRGVkZUNNU+aVsOaNruW6k+S4rTwvc3Bhbj4gIHskZXhwb3J0X3N0cn0NCiAgICAgICAgICA8YnIgLz48YnIgLz4NCiAgICAgICAgICA8aW5wdXQgdHlwZT0iYnV0dG9uIiBzaXplPSIxNCIgb25jbGljaz0icmV0dXJuIGlzZ28oJz9kb3Bvc3Q9ZGVkZWNtc190b19jaGFuZ3lhbicsJ+aYr+WQpuWvvOWFpURlZGVDTVPor4TorrrliLDnlYXoqIDvvJ8nKTsiIHZhbHVlPSLlr7zlhaVEZWRlQ01T6K+E6K665Yiw55WF6KiAIj4NCiAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiM5OTkiPuWwhkRlZGVDTVPor4TorrrmlbDmja7lr7zlhaXliLDnlYXoqIDmqKHlnZfkuK08L3NwYW4+IHskaW1wb3J0X3N0cn0NCiAgICAgICAgICA8L3RkPg0KICAgICAgICA8L3RyPg0KRU9UOw0KICAgIH0NCiAgICAkYWRkc3R5bGU9J3Njcm9sbGluZz0iYXV0byIgJzsNCiAgICAkYWNjb3VudF9zdHIgPSBwcmVnX21hdGNoKCIjQGRlZGVjbXMkIyIsJF9TRVNTSU9OWyd1c2VyJ10pPyAiPGEgaHJlZj0nP2RvcG9zdD1iaW5kJyBzdHlsZT0nY29sb3I6Ymx1ZSc+W+e7keWumui0puWPt108L2E+IiA6DQogICAgIjxhIGhyZWY9Jz9kb3Bvc3Q9bG9nb3V0JyBzdHlsZT0nY29sb3I6Ymx1ZSc+W+WIh+aNoui0puWPt108L2E+IjsNCiAgICBlY2hvIDw8PEVPVA0KPGh0bWw+DQo8aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXskY2ZnX3NvZnRfbGFuZ30iPg0KPHRpdGxlPnskcHRpdGxlfTwvdGl0bGU+DQo8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJjc3MvYmFzZS5jc3MiPg0KPC9oZWFkPg0KPGJvZHkgYmFja2dyb3VuZD0naW1hZ2VzL2FsbGJnLmdpZicgbGVmdG1hcmdpbj0iOCIgdG9wbWFyZ2luPSc4Jz4NCjx0YWJsZSB3aWR0aD0iOTglIiBib3JkZXI9IjAiIGFsaWduPSJjZW50ZXIiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYmdjb2xvcj0iI0RGRjlBQSIgaGVpZ2h0PSIxMDAlIj4NCiAgPHRyPg0KICAgIDx0ZCBoZWlnaHQ9IjI4IiBzdHlsZT0iYm9yZGVyOjFweCBzb2xpZCAjREFEQURBIiBiYWNrZ3JvdW5kPSdpbWFnZXMvd2JnLmdpZic+DQogICAgDQogICAgPGRpdiBzdHlsZT0iZmxvYXQ6bGVmdCI+Jm5ic3A7PGI+4peHPGEgaHJlZj0iPyI+55WF6KiA6K+E6K665qih5Z2XPC9hPiDjgIt7JHB0aXRsZX08L2I+PC9kaXY+DQogICAgPGRpdiBzdHlsZT0iZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjIwcHg7Ij7mgqjlpb3vvJp7JF9TRVNTSU9OWyd1c2VyJ119IHskYWNjb3VudF9zdHJ9PC9kaXY+DQogICAgPC90ZD4NCiAgPC90cj4NCiAgPHRyPg0KICAgIDx0ZCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2YWxpZ249InRvcCIgYmdjb2xvcj0nI2ZmZmZmZicgc3R5bGU9InBhZGRpbmctdG9wOjVweCI+PHRhYmxlIHdpZHRoPScxMDAlJyAgYm9yZGVyPScwJyBjZWxscGFkZGluZz0nMycgY2VsbHNwYWNpbmc9JzEnIGJnY29sb3I9JyNEQURBREEnIGhlaWdodD0iMTAwJSI+DQogICAgICAgIDx0ciBiZ2NvbG9yPScjREFEQURBJz4NCiAgICAgICAgICA8dGQgY29sc3Bhbj0nMicgYmFja2dyb3VuZD0naW1hZ2VzL3diZy5naWYnIGhlaWdodD0nMjYnPjxmb250IGNvbG9yPScjNjY2NjAwJz48Yj57JHB0aXRsZX08L2I+PC9mb250PjwvdGQ+DQogICAgICAgIDwvdHI+DQogICAgICAgIHskYWRkc3RyfQ0KICAgICAgICA8dHIgYmdjb2xvcj0nI0ZGRkZGRic+DQogICAgICAgICAgPHRkIGNvbHNwYW49JzInIGhlaWdodD0nMTAwJScgc3R5bGU9J3BhZGRpbmc6MjBweCc+PGJyLz48aWZyYW1lIHNyYz0ieyRtYW5hZ2VfdXJsfSIgeyRhZGRzdHlsZX0gd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgc3R5bGU9ImJvcmRlcjpub25lIj48L2lmcmFtZT48L3RkPg0KICAgICAgICA8L3RyPg0KICAgICAgICA8dHI+DQogICAgICAgICAgPHRkIGJnY29sb3I9JyNGNUY1RjUnPiZuYnNwOzwvdGQ+DQogICAgICAgIDwvdHI+DQogICAgICA8L3RhYmxlPjwvdGQ+DQogIDwvdHI+DQo8L3RhYmxlPg0KPHAgYWxpZ249ImNlbnRlciI+IDxicj4NCiAgPGJyPg0KPC9wPg0KPC9ib2R5Pg0KPC9odG1sPg0KDQpFT1Q7DQp9IGVsc2VpZiAoJGRvcG9zdD09J2RlZGVjbXNfdG9fY2hhbmd5YW4nKSB7DQogICAgaWYoIWNoYW5neWFuX2lzbG9naW4oKSkNCiAgICB7DQogICAgICAgIFNob3dNc2coIuaCqOWwmuacqueZu+W9leeVheiogO+8jOivt+WFiOeZu+W9leWQjue7p+e7reS9v+eUqOKApuKApu+8gSIsJz8nKTsNCiAgICAgICAgZXhpdCgpOw0KICAgIH0NCiAgICAkaXN2X2FwcF9rZXkgPSBjaGFuZ3lhbl9nZXRfaXN2X2FwcF9rZXkoKTsNCiAgICAkc3RhcnQgPSBpc3NldCgkc3RhcnQpPyBpbnR2YWwoJHN0YXJ0KSA6IDA7DQogICAgJHBhZ2VzaXplPTE7DQogICAgJHNxbCA9ICJTRUxFQ1QgY291bnQoKikgYXMgZGQgRlJPTSBgI0BfX2ZlZWRiYWNrYCBncm91cCBieSBhaWQgb3JkZXIgYnkgYWlkIGFzYyBsaW1pdCB7JHN0YXJ0fSx7JHBhZ2VzaXplfSI7DQogICAgJHJyID0gJGRzcWwtPkdldE9uZSgkc3FsKTsNCiAgICBpZigkcnJbJ2RkJ109PTApDQogICAgew0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnbGFzdF9pbXBvcnQnLCB0aW1lKCkpOw0KICAgICAgICBTaG93TXNnKCflhajpg6jlr7zlh7rlrozmiJDvvIEnLCdqYXZhc2NyaXB0OjsnKTsNCiAgICAgICAgZXhpdDsNCiAgICB9DQogICAgJHNxbCA9ICJTRUxFQ1QgYWlkIEZST00gYCNAX19mZWVkYmFja2AgZ3JvdXAgYnkgYWlkIG9yZGVyIGJ5IGFpZCBhc2MgbGltaXQgeyRzdGFydH0seyRwYWdlc2l6ZX0iOw0KICAgICRkc3FsLT5TZXRRdWVyeSgkc3FsKTsNCiAgICAkZHNxbC0+RXhlY3V0ZSgnZGQnKTsNCiAgICAkcmVzdWx0PWFycmF5KCk7DQogICAgd2hpbGUoJGFyciA9ICRkc3FsLT5HZXRBcnJheSgnZGQnKSkNCiAgICB7DQogICAgICAgICRmZWVkQXJyPWFycmF5KCk7DQogICAgICAgICRhcmN0Um93ID0gJGRzcWwtPkdldE9uZSgiU0VMRUNUICogRlJPTSBgI0BfX2FyY3RpbnlgIFdIRVJFIGlkPXskYXJyWydhaWQnXX0iKTsNCiAgICAgICAgaWYoJGFyY3RSb3dbJ2NoYW5uZWwnXT09MCkgJGFyY3RSb3dbJ2NoYW5uZWwnXT0xOw0KICAgICAgICAkY2lkID0gJGFyY3RSb3dbJ2NoYW5uZWwnXTsNCiAgICAgICAgJGNoUm93ID0gJGRzcWwtPkdldE9uZSgiU0VMRUNUICogRlJPTSBgI0BfX2NoYW5uZWx0eXBlYCBXSEVSRSBpZD0nJGNpZCcgIik7DQogICAgICAgICRyb3c9YXJyYXkoKTsNCiAgICAgICAgaWYgKCRjaFJvd1snaXNzeXN0ZW0nXSE9IC0xKSB7DQogICAgICAgICAgICAkc3FsID0gIlNFTEVDVCBhcmMuKix0cC5yZWlkLHRwLnR5cGVkaXIsdHAudHlwZW5hbWUsdHAuaXNkZWZhdWx0LHRwLmRlZmF1bHRuYW1lLHRwLm5hbWVydWxlLHRwLm5hbWVydWxlMix0cC5pc3BhcnQsDQogICAgICAgICAgICB0cC5tb3Jlc2l0ZSx0cC5zaXRldXJsLHRwLnNpdGVwYXRoLGNoLmFkZHRhYmxlDQogICAgICAgICAgICBGUk9NIGAjQF9fYXJjaGl2ZXNgIGFyYw0KICAgICAgICAgICAgICAgICAgICAgTEVGVCBKT0lOIGAjQF9fYXJjdHlwZWAgdHAgb24gdHAuaWQ9YXJjLnR5cGVpZA0KICAgICAgICAgICAgICAgICAgICAgIExFRlQgSk9JTiBgI0BfX2NoYW5uZWx0eXBlYCBhcyBjaCBvbiBhcmMuY2hhbm5lbCA9IGNoLmlkDQogICAgICAgICAgICAgICAgICAgICAgV0hFUkUgYXJjLmlkPSd7JGFyclsnYWlkJ119JyAiOw0KICAgICAgICAgICAgJHJvdyA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZigkY2hSb3dbJ2FkZHRhYmxlJ10hPScnKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICRzcWwgPSAiU0VMRUNUIGFyYy4qLHRwLnR5cGVkaXIsdHAudHlwZW5hbWUsdHAuaXNkZWZhdWx0LHRwLmRlZmF1bHRuYW1lLHRwLm5hbWVydWxlLHRwLm5hbWVydWxlMix0cC5pc3BhcnQsDQogICAgICAgICAgICB0cC5tb3Jlc2l0ZSx0cC5zaXRldXJsLHRwLnNpdGVwYXRoIEZST00gYHskY2hSb3dbJ2FkZHRhYmxlJ119YCBhcmMgIA0KICAgICAgICAgICAgTEVGVCBKT0lOIGAjQF9fYXJjdHlwZWAgdHAgT04gYXJjLnR5cGVpZD10cC5pZA0KICAgICAgICAgICAgICAgIFdIRVJFIGBhaWRgID0gJ3skYXJyWydhaWQnXX0nIjsNCiAgICAgICAgICAgICAgICAkYWRkVGFibGVSb3cgPSAkZHNxbC0+R2V0T25lKCRzcWwpOw0KICAgICAgICAgICAgICAgIGlmKGlzX2FycmF5KCRhZGRUYWJsZVJvdykpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAkcm93WydpZCddPSRhZGRUYWJsZVJvd1snYWlkJ107DQogICAgICAgICAgICAgICAgICAgICRyb3dbJ3RpdGxlJ109JGFkZFRhYmxlUm93Wyd0aXRsZSddOw0KICAgICAgICAgICAgICAgICAgICAkcm93Wyd0eXBlaWQnXT0kYWRkVGFibGVSb3dbJ3R5cGVpZCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WydtaWQnXT0kYWRkVGFibGVSb3dbJ21pZCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WydzZW5kZGF0ZSddPSRhZGRUYWJsZVJvd1snc2VuZGRhdGUnXTsNCiAgICAgICAgICAgICAgICAgICAgJHJvd1snY2hhbm5lbCddPSRhZGRUYWJsZVJvd1snY2hhbm5lbCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WydhcmNyYW5rJ109JGFkZFRhYmxlUm93WydhcmNyYW5rJ107DQogICAgICAgICAgICAgICAgICAgICRyb3dbJ3NlbmRkYXRlJ109JGFkZFRhYmxlUm93WydzZW5kZGF0ZSddOw0KICAgICAgICAgICAgICAgICAgICAkcm93Wyd0eXBlZGlyJ109JGFkZFRhYmxlUm93Wyd0eXBlZGlyJ107DQogICAgICAgICAgICAgICAgICAgICRyb3dbJ2lzZGVmYXVsdCddPSRhZGRUYWJsZVJvd1snaXNkZWZhdWx0J107DQogICAgICAgICAgICAgICAgICAgICRyb3dbJ2RlZmF1bHRuYW1lJ109JGFkZFRhYmxlUm93WydkZWZhdWx0bmFtZSddOw0KICAgICAgICAgICAgICAgICAgICAkcm93Wydpc3BhcnQnXT0kYWRkVGFibGVSb3dbJ2lzcGFydCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WyduYW1lcnVsZTInXT0kYWRkVGFibGVSb3dbJ25hbWVydWxlMiddOw0KICAgICAgICAgICAgICAgICAgICAkcm93Wydtb3Jlc2l0ZSddPSRhZGRUYWJsZVJvd1snbW9yZXNpdGUnXTsNCiAgICAgICAgICAgICAgICAgICAgJHJvd1snc2l0ZXVybCddPSRhZGRUYWJsZVJvd1snc2l0ZXVybCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WydzaXRlcGF0aCddPSRhZGRUYWJsZVJvd1snc2l0ZXBhdGgnXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHJvd1snZmlsZW5hbWUnXSA9ICRyb3dbJ2FyY3VybCddID0gR2V0RmlsZVVybCgkcm93WydpZCddLCRyb3dbJ3R5cGVpZCddLCRyb3dbJ3NlbmRkYXRlJ10sJHJvd1sndGl0bGUnXSwxLA0KICAgICAgICAwLCRyb3dbJ25hbWVydWxlJ10sJHJvd1sndHlwZWRpciddLDAsJycsJHJvd1snbW9yZXNpdGUnXSwkcm93WydzaXRldXJsJ10sJHJvd1snc2l0ZXBhdGgnXSk7DQogICAgICAgICRyb3dbJ3RpdGxlJ109Y2hhbmd5YW5fYXV0b0NoYXJzZXQoJHJvd1sndGl0bGUnXSk7DQogICAgICAgIA0KICAgICAgICAkZmVlZEFyclsndGl0bGUnXT0kcm93Wyd0aXRsZSddOw0KICAgICAgICAkZmVlZEFyclsndXJsJ109JGNmZ19iYXNlaG9zdC4kcm93WydhcmN1cmwnXTsNCiAgICAgICAgJGZlZWRBcnJbJ3R0aW1lJ109IGRhdGUoJ1ktbS1kIGg6bTpzJywgICRyb3dbJ3NlbmRkYXRlJ10pOw0KICAgICAgICAkZmVlZEFyclsnc291cmNlaWQnXT0kYXJyWydhaWQnXTsNCiAgICAgICAgJGZlZWRBcnJbJ3BhcmVudGlkJ109MDsNCiAgICAgICAgJGZlZWRBcnJbJ2NhdGVnb3J5aWQnXT0kcm93Wyd0eXBlaWQnXTsNCiAgICAgICAgJGZlZWRBcnJbJ293bmVyaWQnXT0kcm93WydtaWQnXTsNCiAgICAgICAgJGZlZWRBcnJbJ21ldGFkYXRhJ109Jyc7DQoNCiAgICAgICAgJGRzcWwtPlNldFF1ZXJ5KCJTRUxFQ1QgZmVlZGJhY2tfaWQgRlJPTSBgI0BfX3BsdXNfY2hhbmd5YW5faW1wb3J0aWRzYCBXSEVSRSBhaWQ9eyRhcnJbJ2FpZCddfSIpOw0KICAgICAgICAkZHNxbC0+RXhlY3V0ZSgnZGQnKTsNCiAgICAgICAgJGZlZWRiYWNrX2lkcz1hcnJheSgpOw0KICAgICAgICB3aGlsZSgkZmFyciA9ICRkc3FsLT5HZXRBcnJheSgnZGQnKSkNCiAgICAgICAgew0KICAgICAgICAgICAgJGZlZWRiYWNrX2lkc1tdID0gJGZhcnJbJ2ZlZWRiYWNrX2lkJ107DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICRzcXVlcnk9IlNFTEVDVCAqIEZST00gYCNAX19mZWVkYmFja2AgV0hFUkUgYWlkPXskYXJyWydhaWQnXX0gb3JkZXIgYnkgZHRpbWUgYXNjOyI7DQogICAgICAgICRkc3FsLT5TZXRRdWVyeSgkc3F1ZXJ5KTsNCiAgICAgICAgJGRzcWwtPkV4ZWN1dGUoJ3h4Jyk7DQogICAgICAgIHdoaWxlKCRmUm93ID0gJGRzcWwtPkdldEFycmF5KCd4eCcpKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZiAoaW5fYXJyYXkoJGZSb3dbJ2lkJ10sICRmZWVkYmFja19pZHMpKSBjb250aW51ZTsNCiAgICAgICAgICAgICRmZWVkQXJyWydjb21tZW50cyddW109YXJyYXkoDQogICAgICAgICAgICAgICAgJ2NtdGlkJz0+JGZSb3dbJ2lkJ10sDQogICAgICAgICAgICAgICAgJ2N0aW1lJz0+ZGF0ZSgnWS1tLWQgaDptOnMnLCAgJGZSb3dbJ2R0aW1lJ10pLA0KICAgICAgICAgICAgICAgICdjb250ZW50Jz0+Y2hhbmd5YW5fUXVvdGVfcmVwbGFjZShjaGFuZ3lhbl9hdXRvQ2hhcnNldCgkZlJvd1snbXNnJ10pKSwNCiAgICAgICAgICAgICAgICAncmVwbHlpZCc9PjAsDQogICAgICAgICAgICAgICAgJ3NwY291bnQnPT4kZlJvd1snZ29vZCddLA0KICAgICAgICAgICAgICAgICdvcGNvdW50Jz0+JGZSb3dbJ2JhZCddLA0KICAgICAgICAgICAgICAgICd1c2VyJz0+YXJyYXkoDQogICAgICAgICAgICAgICAgICAgICd1c2VyaWQnPT4kZlJvd1snbWlkJ10sDQogICAgICAgICAgICAgICAgICAgICduaWNrbmFtZSc9PmNoYW5neWFuX2F1dG9DaGFyc2V0KCRmUm93Wyd1c2VybmFtZSddKSwNCiAgICAgICAgICAgICAgICAgICAgJ3VzZXJpY29uJz0+JycsDQogICAgICAgICAgICAgICAgICAgICd1c2VydXJsJz0+JycsDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICRpbnF1ZXJ5ID0gIklOU0VSVCBJTlRPIGAjQF9fcGx1c19jaGFuZ3lhbl9pbXBvcnRpZHNgKGBhaWRgLGBmZWVkYmFja19pZGApIFZBTFVFUyAoJ3skYXJyWydhaWQnXX0nLCd7JGZSb3dbJ2lkJ119JykiOw0KICAgICAgICAgICAgJHJzID0gJGRzcWwtPkV4ZWN1dGVOb25lUXVlcnkoJGlucXVlcnkpOw0KICAgICAgICB9DQogICAgICAgIGlmIChjb3VudCgkZmVlZEFyclsnY29tbWVudHMnXSk8MSkgew0KICAgICAgICAgICAgY29udGludWU7DQogICAgICAgIH0NCg0KICAgICAgICAkY29udGVudD1qc29uX2VuY29kZSgkZmVlZEFycik7DQogICAgICAgICRtZDUgPSBjaGFuZ3lhbl9obWFjc2hhMSgkY29udGVudCwgJGlzdl9hcHBfa2V5KTsNCg0KICAgICAgICAkcGFyYW1zQXJyPWFycmF5KA0KICAgICAgICAgICAgJ2FwcGlkJz0+JGNsaWVudF9pZCwgDQogICAgICAgICAgICAnbWQ1Jz0+JG1kNSwgDQogICAgICAgICAgICAnanNvbmRhdGEnPT4kY29udGVudCk7DQogICAgICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0lNUE9SVCwwLCRwYXJhbXNBcnIpOw0KICAgIH0NCiAgICANCiAgICAkc3RhcnQgPSRzdGFydCskcGFnZXNpemU7DQogICAgJGVuZCA9JHN0YXJ0KyRwYWdlc2l6ZTsNCiAgICBTaG93TXNnKCLmiJDlip/lr7zlh7ror4TorrrmlbDmja7vvIzmjqXkuIvmnaXlr7zlhaVbeyRzdGFydH0teyRlbmR9XeeahOivhOiuuuaVsOaNriIsIj9kb3Bvc3Q9ZGVkZWNtc190b19jaGFuZ3lhbiZzdGFydD17JHN0YXJ0fSIpOw0KICAgIC8vZWNobyBqc29uX2VuY29kZSgkcmVzdWx0KTsNCiAgICBleGl0KCk7DQp9IGVsc2VpZiAoJGRvcG9zdD09J2NoYW5neWFuX3RvX2RlZGVjbXMnKSB7DQogICAgaWYoIWNoYW5neWFuX2lzbG9naW4oKSkNCiAgICB7DQogICAgICAgIFNob3dNc2coIuaCqOWwmuacqueZu+W9leeVheiogO+8jOivt+WFiOeZu+W9leWQjue7p+e7reS9v+eUqOKApuKApu+8gSIsJz8nKTsNCiAgICAgICAgZXhpdCgpOw0KICAgIH0NCiAgICAkbGFzdF9leHBvcnQ9Y2hhbmd5YW5fZ2V0X3NldHRpbmcoJ2xhc3RfZXhwb3J0Jyk7DQogICAgaWYgKGVtcHR5KCRsYXN0X2V4cG9ydCkpIHsNCiAgICAgICAgJHN0YXJ0X2RhdGU9JzIwMTQtMDEtMDEgMDA6MDA6MDAnOw0KICAgIH0gZWxzZSB7DQogICAgICAgICRzdGFydF9kYXRlPSBkYXRlKCdZLW0tZCBIOmk6cycsJGxhc3RfZXhwb3J0KTsNCiAgICB9DQogICAgLy8kc3RhcnRfZGF0ZT0nMjAxNC0wMS0wMSAwMDowMDowMCc7DQogICAgJHJlY2VudCA9IGNoYW5neWFuX2dldF9yZWNlbnQoJGNsaWVudF9pZCwgJHN0YXJ0X2RhdGUpOw0KICAgIC8vdmFyX2R1bXAoJHJlY2VudCk7ZXhpdDsNCiAgICBpZiAoY291bnQoJHJlY2VudFsndG9waWNzJ10pPD0wKSB7DQogICAgICAgIFNob3dNc2coIuayoeacieWPkeeOsOaWsOeahOivhOiuuuWGheWuuemcgOimgeWvvOWHuu+8gSIsLTEpOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KICAgICRleHBvcnRzPWFycmF5KCk7DQogICAgZm9yZWFjaCAoJHJlY2VudFsndG9waWNzJ10gYXMgJHRvcGljKSB7DQogICAgICAgICRleHBvcnRzW109YXJyYXkoDQogICAgICAgICAgICAndG9waWNfaWQnPT4kdG9waWNbJ3RvcGljX2lkJ10sDQogICAgICAgICAgICAnYWlkJz0+JHRvcGljWyd0b3BpY19zb3VyY2VfaWQnXSwNCiAgICAgICAgICAgICd0aXRsZSc9PiR0b3BpY1sndG9waWNfdGl0bGUnXSwNCiAgICAgICAgKTsNCiAgICB9DQogICAgZm9yZWFjaCAoJGV4cG9ydHMgYXMgJGV4cG9ydCkgew0KICAgICAgICBjaGFuZ3lhbl9pbnNlcnRfY29tbWVudHMoY2hhbmd5YW5fZ2V0X2NvbW1lbnRzKGNoYW5neWFuX2dldF9zZXR0aW5nKCdhcHBpZCcpLCRleHBvcnRbJ3RvcGljX2lkJ10pLCRleHBvcnRbJ2FpZCddLCRleHBvcnRbJ3RpdGxlJ10pOw0KICAgIH0NCiAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnbGFzdF9leHBvcnQnLCB0aW1lKCkpOw0KICAgIFNob3dNc2coIuaIkOWKn+Wkh+S7veeVheiogOivhOiuuuWIsERlZGVDTVPns7vnu5/vvIEiLCI/ZG9wb3N0PWltcG9ydCIpOw0KICAgIGV4aXQoKTsNCn0gZWxzZWlmICgkZG9wb3N0PT0nY2hlY2t1cGRhdGUnKQ0Kew0KICAgIFNob3dNc2coIjxwPuW9k+WJjeS4uuacgOaWsOeJiOacrO+8jOaXoOmhu+S4i+i9veabtOaWsO+8gTwvcD4gPHA+PGEgaHJlZj0nPycgPui/lOWbnuS4iuS4gOmhtTwvYT48L3A+IiwiamF2YXNjcmlwdDo7Iik7DQogICAgZXhpdCgpOw0KfSBlbHNlaWYgKCRkb3Bvc3Q9PSdjbGVhcmNhY2hlJykNCnsNCiAgICBjaGFuZ3lhbl9jbGVhcmNhY2hlKCk7DQogICAgU2hvd01zZygi5oiQ5Yqf5riF56m65qCH562+57yT5a2Y77yBIiwiPyIpOw0KICAgIGV4aXQoKTsNCn0gZWxzZWlmKCRkb3Bvc3Q9PSdmb3JnZXQtcHdkJykNCnsNCiAgICBTaG93TXNnKCI8cD4g5aaC5p6c5oKo5b+Y6K6w5LqG55WF6KiA5a+G56CBIDwvcD4gPHA+PGEgaHJlZj0naHR0cDovL3d3dy5rdWFpemhhbi5jb20vcGFzc3BvcnQvZm9yZ2V0LXB3ZD9yZWZlcj1odHRwOi8vY2hhbmd5YW4ua3VhaXpoYW4uY29tL2F1ZGl0L2NvbW1lbnRzL1RPQVVESVQvMScgPueCueWHu+i/memHjOaJvuWbnjwvYT48L3A+IiwiamF2YXNjcmlwdDo7Iik7DQogICAgZXhpdCgpOw0KfSBlbHNlIHsNCiAgICAvKiDnmbvlvZXlkI7kuLvnlYzpnaIgKi8NCg0KICAgIGlmKGNoYW5neWFuX2lzbG9naW4oKSkNCiAgICB7DQogICAgICAgICRjaGFuZ3lhbl92ZXIgPSBDSEFOR1lBTl9WRVI7DQogICAgICAgICRsb2dpbl91cmw9Q0hBTkdZQU5fQVBJX1NFVENPT0tJRS4nP2NsaWVudF9pZD0nLkNIQU5HWUFOX0NMSUVOVF9JRC4nJnRva2VuPScuJF9TRVNTSU9OWydjaGFuZ3lhbiddOw0KICAgICAgICAkbG9naW5fc3RyID0gPDw8RU9UDQo8aWZyYW1lIHNyYz0ieyRsb2dpbl91cmx9IiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iYm9yZGVyOm5vbmUiPjwvaWZyYW1lPg0KRU9UOw0KICAgICAgICANCiAgICAgICAgJGlzdl9hcHBfa2V5ID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ2lzdl9hcHBfa2V5Jyk7DQogICAgICAgICRpc3ZfaWQgPSBjaGFuZ3lhbl9nZXRfc2V0dGluZygnaXN2X2lkJyk7DQogICAgICAgICRpc3ZfaWQgPSBpbnR2YWwoJGlzdl9pZCk7DQogICAgICAgICRjaGFuZ2dlX2lzdl91cmwgPSBDSEFOR1lBTl9BUElfQ0hBTkdFX0lTVi4kaXN2X2lkOw0KICAgICAgICAvLyRpc3ZfYXBwX2tleSA9IGNoYW5neWFuX2dldF9pc3ZfYXBwX2tleSgpOw0KICAgICAgICAkY2hhbmdlX2lzdl9pZCA9IDw8PEVPVA0KPGRpdiBpZD0iY2hhbmdlX2lzdiI+PC9kaXY+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGNoYW5nZV9pc3ZfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYW5nZV9pc3YiKTtjaGFuZ2VfaXN2X2Rpdi5pbm5lckhUTUw9JzxpZnJhbWUgc3JjPSJ7JGNoYW5nZ2VfaXN2X3VybH0iIHNjcm9sbGluZz0ibm8iIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJib3JkZXI6bm9uZSI+PC9pZnJhbWU+Jzt9LDEwMCk7DQo8L3NjcmlwdD4NCkVPVDsNCiAgICAgICAgaWYoIWVtcHR5KCRmb3J3YXJkKSkNCiAgICAgICAgew0KICAgICAgICAgICAgZWNobyA8PDxFT1QNCiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMTJweDtwYWRkaW5nOiAyMHB4O2JvcmRlcjogMXB4IHNvbGlkICNEREQ7Ij7nlYXoqIDmqKHlnZfoh6rliqjnmbvlvZXkuK3vvIzor7fogJDlv4PnrYnlvoXigKbigKY8L2Rpdj4NCnskbG9naW5fc3RyfQ0KeyRjaGFuZ2VfaXN2X2lkfQ0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0Kc2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5ocmVmPSc/ZG9wb3N0PXskZm9yd2FyZH0nO30sNTAwKTsNCjwvc2NyaXB0Pg0KRU9UOw0KICAgICAgICAgICAgZXhpdCgpOw0KICAgICAgICB9DQogICAgICAgICRhY2NvdW50X3N0ciA9IHByZWdfbWF0Y2goIiNAZGVkZWNtcyQjIiwkX1NFU1NJT05bJ3VzZXInXSk/ICI8YSBocmVmPSc/ZG9wb3N0PWJpbmQnIHN0eWxlPSdjb2xvcjpibHVlJz5b57uR5a6a6LSm5Y+3XTwvYT4gPGZvbnQgY29sb3I9J3JlZCc+5Li65LqG5L+d6K+B5oKo55qE6K+E6K665a6J5YWo77yM5bu66K6u57uR5a6a6LSm5Y+3PC9mb250PiIgOg0KICAgICAgICAiPGEgaHJlZj0nP2RvcG9zdD1sb2dvdXQnIHN0eWxlPSdjb2xvcjpibHVlJz5b5YiH5o2i6LSm5Y+3XTwvYT4iOw0KICAgICAgICAkbXNnID0gPDw8RU9UDQo8dGFibGUgd2lkdGg9Ijk4JSIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMSIgY2VsbHBhZGRpbmc9IjEiPg0KICA8dGJvZHk+DQogICAgPHRyPg0KICAgICAgPHRkIHdpZHRoPSIxNiUiIGhlaWdodD0iMzAiPueZu+W9leeUqOaIt++8mjwvdGQ+DQogICAgICA8dGQgd2lkdGg9Ijg0JSIgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPnskX1NFU1NJT05bJ3VzZXInXX0geyRhY2NvdW50X3N0cn0gPCEtLTxhIGhyZWY9Jz9kb3Bvc3Q9bG9nb3V0JyBzdHlsZT0nY29sb3I6Ymx1ZSc+W+mAgOWHul08L2E+LS0+PC90ZD4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCB3aWR0aD0iMTYlIiBoZWlnaHQ9IjMwIj7nlYXoqIDmqKHlnZfniYjmnKzvvJo8L3RkPg0KICAgICAgPHRkIHdpZHRoPSI4NCUiIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij52eyRjaGFuZ3lhbl92ZXJ9IDxhIGhyZWY9Jz9kb3Bvc3Q9Y2hlY2t1cGRhdGUnIHN0eWxlPSdjb2xvcjpibHVlJz5b5qOA5p+l5pu05pawXTwvYT4gPC90ZD4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCB3aWR0aD0iMTYlIiBoZWlnaHQ9IjMwIj5BcHAgSUTvvJo8L3RkPg0KICAgICAgPHRkIHdpZHRoPSI4NCUiIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij48aW5wdXQgY2xhc3M9ImlucHV0LXhsYXJnZSIgdHlwZT0idGV4dCIgdmFsdWU9InskYXBwaWR9IiBkaXNhYmxlZD0iZGlzYWJsZWQvIiBzdHlsZT0id2lkdGg6MjYwcHgiPiA8YSBocmVmPSc/ZG9wb3N0PWNoYW5nZV9hcHBpbmZvJyBzdHlsZT0nY29sb3I6Ymx1ZSc+W+S/ruaUuV08L2E+IDxzcGFuIHN0eWxlPSJjb2xvcjojOTk5Ij4mbmJzcDtBUFAgSUTnlKjkuo7liIfmjaLkuI3lkIznmoTnq5nngrk8L3NwYW4+PC90ZD4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCB3aWR0aD0iMTYlIiBoZWlnaHQ9IjMwIj5BUFAgS2V577yaPC90ZD4NCiAgICAgIDx0ZCB3aWR0aD0iODQlIiBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+PGlucHV0IGNsYXNzPSJpbnB1dC14bGFyZ2UiIHR5cGU9InRleHQiIHZhbHVlPSJ7JGlzdl9hcHBfa2V5fSIgZGlzYWJsZWQ9ImRpc2FibGVkLyIgc3R5bGU9IndpZHRoOjI2MHB4Ij4gIDwvdGQ+DQogICAgPC90cj4NCiAgICA8dHI+DQogICAgICA8dGQgaGVpZ2h0PSIzMCIgY29sc3Bhbj0iMiI+5oKo5bey5oiQ5Yqf55m75b2V55WF6KiA77yB5oKo5Y+v5Lul6L+b6KGM5Lul5LiL5pON5L2c77yaPC90ZD4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCBoZWlnaHQ9IjMwIiBjb2xzcGFuPSIyIj4NCiAgICAgIDxhIGhyZWY9Jz9kb3Bvc3Q9bWFuYWdlJyBzdHlsZT0nY29sb3I6Ymx1ZSc+W+ivhOiuuueuoeeQhl08L2E+IA0KICAgICAgPGEgaHJlZj0nP2RvcG9zdD1zdGF0JyBzdHlsZT0nY29sb3I6Ymx1ZSc+W+aVsOaNrue7n+iuoV08L2E+IA0KICAgICAgPGEgaHJlZj0nP2RvcG9zdD1pbXBvcnQnIHN0eWxlPSdjb2xvcjpibHVlJz5b5a+85YWl5a+85Ye6XTwvYT4gDQogICAgICA8YSBocmVmPSc/ZG9wb3N0PWNsZWFyY2FjaGUnIHN0eWxlPSdjb2xvcjpibHVlJz5b5riF56m657yT5a2YXTwvYT4gDQogICAgICA8YSBocmVmPSc/ZG9wb3N0PXNldHRpbmcnIHN0eWxlPSdjb2xvcjpibHVlJz5b55WF6KiA6K6+572uXTwvYT4gDQogICAgICA8L3RkPg0KICAgIDwvdHI+DQo8dHI+DQogICAgICA8dGQgaGVpZ2h0PSIzMCIgY29sc3Bhbj0iMiI+DQogICA8aHI+DQogICDkvb/nlKjor7TmmI7vvJo8YnI+DQogICDlnKjlr7nlupTmqKHmnb/kuK3kvb/nlKjmoIfnrb7vvJo8Zm9udCBjb2xvcj0icmVkIj57ZGVkZTpjaGFuZ3lhbi99PC9mb250Pu+8jOebtOaOpei/m+ihjOiwg+eUqOWNs+WPr++8jOagt+W8j+iuvuWumuWPr+eCueWHuzxhIGhyZWY9Jz9kb3Bvc3Q9c2V0dGluZycgc3R5bGU9J2NvbG9yOmJsdWUnPlvnlYXoqIDorr7nva5dPC9hPiDov5vooYzorr7nva7jgIINCiAgPGhyPg0KICDlip/og73or7TmmI7vvJo8YnI+DQogIDxiPlvor4TorrrnrqHnkIZdPC9iPuWuoeaguOOAgeWIoOmZpOivhOiuuuS/oeaBr++8jOaVj+aEn+ivjeeuoeeQhu+8jOeUqOaIt+emgeiogOaTjeS9nO+8mzxicj4NCiA8Yj5b5pWw5o2u57uf6K6hXTwvYj7nq5nngrnor4Torrrkv6Hmga/mlbDmja7lhajmlrnkvY3nu5/orqHvvJs8YnI+DQogPGI+W+WvvOWFpeWvvOWHul08L2I+6K+E6K665L+h5oGv5pWw5o2u5a+85YWlL+WvvOWHuu+8jOW7uuiurueUqOaIt+Wumuacn+WvvOWHuuWkh+S7ve+8mzxicj4NCiA8Yj5b5riF56m657yT5a2YXTwvYj7muIXnqbrnlYXoqIDor4TorrrmoIfnrb7nvJPlrZjvvIzlpoLmnpzmm7TmlLnnmbvlvZXotKblj7flu7rorq7muIXnqbrnvJPlrZjlho3nlJ/miJDvvJs8YnI+DQogPGI+W+eVheiogOiuvue9rl08L2I+55WF6KiA6K+E6K6655u45YWz6K6+5a6a77ybPGJyPjxicj4NCjxocj4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCBoZWlnaHQ9IjMwIiBjb2xzcGFuPSIyIiBzdHlsZT0iY29sb3I6Izk5OSI+PHN0cm9uZz7nlYXoqIA8L3N0cm9uZz7mmK/kuIDkuKrnroDljZXlj4vlpb3nmoTnpL7kvJrljJbor4Torrrlj4rogZrlkIjns7vnu5/jgILnlYXoqIDor4Torrrns7vnu5/lj6/ku6Xkv53or4HmgqjnvZHnq5nnmoTor4TorrrlronlhajvvIzorqnmgqjnmoTnvZHnq5nov5znprvlnoPlnL7or4TorrrvvJvnlKjmiLflj6/ku6Xkvb/nlKjoh6rlt7HnmoTnpL7kuqTotKbmiLflnKjmgqjnmoTnvZHnq5nlj5Hooajor4TorrrvvIzlubbkuJTkuIDplK7lkIzmraXoh7PnpL7kuqTnvZHnu5zvvIzkuLrmgqjnmoTnvZHnq5nluKbmnaXmm7TlpJrmtYHph4/jgII8L3RkPg0KICAgIDwvdHI+DQogIDwvdGJvZHk+DQo8L3RhYmxlPg0KeyRsb2dpbl9zdHJ9DQp7JGNoYW5nZV9pc3ZfaWR9DQpFT1Q7DQogICAgICAgICR3aW50aXRsZSA9ICfnlYXoqIDor4TorrrnrqHnkIYnOw0KICAgICAgICAkd2Vjb21lX2luZm8gPSAn55WF6KiA6K+E6K665qih5Z2XIOOAiyc7DQogICAgICAgICR3aW4gPSBuZXcgT3hXaW5kb3coKTsNCiAgICAgICAgJHdpbi0+QWRkVGl0bGUoJHdpbnRpdGxlKTsNCiAgICAgICAgJHdpbi0+QWRkTXNnSXRlbSgkbXNnKTsNCiAgICAgICAgJHdpbmZvcm0gPSAkd2luLT5HZXRXaW5kb3coJ2hhbmQnLCAnJm5ic3A7JywgZmFsc2UpOw0KICAgICAgICAkd2luLT5EaXNwbGF5KCk7DQogICAgICAgIGV4aXQ7DQogICAgfSBlbHNlIHsNCiAgICAgICAgdW5zZXQoJF9TRVNTSU9OWydjaGFuZ3lhbiddKTsNCiAgICAgICAgdW5zZXQoJF9TRVNTSU9OWyd1c2VyJ10pOw0KICAgICAgICAkdXNlciA9IGNoYW5neWFuX2dldF9zZXR0aW5nKCd1c2VyJyk7DQogICAgICAgICR2ZXJzaW9uID0gQ0hBTkdZQU5fVkVSOw0KICAgICAgICAkY2hhbmd5YW5fcmVnX3VybCA9IENIQU5HWUFOX1JFR19VUkw7DQogICAgICAgICRjaGFuZ3lhbl9mb3JnZXRfcHdkX3VybCA9IENIQU5HWUFOX0ZPUkdFVF9QV0RfVVJMOw0KICAgICAgICAkY2hhbmd5YW5fdXBkYXRlX3VybCA9IENIQU5HWUFOX1VQREFURV9VUkw7DQogICAgICAgIGlmKGVtcHR5KCR1c2VyKSkgJHVzZXI9Jyc7DQogICAgICAgICRtc2cgPSA8PDxFT1QNCjxodG1sPg0KPGhlYWQ+DQo8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD17JGNmZ19zb2Z0X2xhbmd9Ij4NCjx0aXRsZT7nlYXoqIDor4TorrrnrqHnkIY8L3RpdGxlPg0KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0ieyRjZmdfcGx1c19kaXJ9L2ltZy9iYXNlLmNzcyI+DQo8L2hlYWQ+DQo8Ym9keSBiYWNrZ3JvdW5kPSd7JGNmZ19wbHVzX2Rpcn0vaW1nL2FsbGJnLmdpZicgbGVmdG1hcmdpbj0iOCIgdG9wbWFyZ2luPSc4Jz4NCjx0YWJsZSB3aWR0aD0iOTglIiBib3JkZXI9IjAiIGFsaWduPSJjZW50ZXIiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYmdjb2xvcj0iI0RGRjlBQSI+DQogIDx0cj4NCiAgICA8dGQgaGVpZ2h0PSIyOCIgc3R5bGU9ImJvcmRlcjoxcHggc29saWQgI0RBREFEQSIgYmFja2dyb3VuZD0neyRjZmdfcGx1c19kaXJ9L2ltZy93YmcuZ2lmJz4mbmJzcDs8Yj7il4fnlYXoqIDor4TorrrmqKHlnZcg44CLPC9iPjwvdGQ+DQogIDwvdHI+DQogIDx0cj4NCg0KICA8dGQgd2lkdGg9IjEwMCUiIGhlaWdodD0iODAiIHN0eWxlPSJwYWRkaW5nLXRvcDo1cHgiIGJnY29sb3I9JyNmZmZmZmYnPg0KDQogIDxzY3JpcHQgbGFuZ3VhZ2U9J2phdmFzY3JpcHQnPg0KZnVuY3Rpb24gQ2hlY2tTdWJtaXQoKXsNCiAgICByZXR1cm4gdHJ1ZTsNCn0NCjwvc2NyaXB0Pg0KICA8Zm9ybSBuYW1lPSdteWZvcm0nIG1ldGhvZD0nUE9TVCcgb25TdWJtaXQ9J3JldHVybiBDaGVja1N1Ym1pdCgpOycgYWN0aW9uPSc/Jz4NCg0KICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdkb3Bvc3QnIHZhbHVlPSdsb2dpbic+DQogIDx0YWJsZSB3aWR0aD0nMTAwJScgIGJvcmRlcj0nMCcgY2VsbHBhZGRpbmc9JzMnIGNlbGxzcGFjaW5nPScxJyBiZ2NvbG9yPScjREFEQURBJz4NCiAgICA8dHIgYmdjb2xvcj0nI0RBREFEQSc+DQogICAgICA8dGQgY29sc3Bhbj0nMicgYmFja2dyb3VuZD0neyRjZmdfcGx1c19kaXJ9L2ltZy93YmcuZ2lmJyBoZWlnaHQ9JzI2Jz48Zm9udCBjb2xvcj0nIzY2NjYwMCc+PGI+55WF6KiA6K+E6K66566h55CGPC9iPjwvZm9udD48L3RkPg0KICAgIDwvdHI+DQogICAgPHRyIGJnY29sb3I9JyNGRkZGRkYnPg0KICAgICAgPHRkIGNvbHNwYW49JzInICBoZWlnaHQ9JzEwMCc+PHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9IjEiIGNlbGxwYWRkaW5nPSIxIj4NCiAgICAgICAgICA8dGJvZHk+DQogICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgIDx0ZCB3aWR0aD0iMTYlIiBoZWlnaHQ9IjMwIj7pgq7nrrHvvJo8L3RkPg0KICAgICAgICAgICAgICA8dGQgd2lkdGg9Ijg0JSIgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPjxpbnB1dCBuYW1lPSJ1c2VyIiB0eXBlPSJ0ZXh0IiBpZD0idXNlciIgc2l6ZT0iMTYiIHN0eWxlPSJ3aWR0aDoyMDBweCIgdmFsdWU9InskdXNlcn0iIC8+DQogICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNoYW5neWFuX3JlZ191cmwiIHN0eWxlPSJjb2xvcjpibHVlIj7lhY3otLnms6jlhow8L2E+IO+8jOiOt+WPluS4k+S4mueahOivhOiuuuacjeWKoTwvdGQ+DQogICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICA8dGQgaGVpZ2h0PSIzMCI+5a+G56CB77yaPC90ZD4NCiAgICAgICAgICAgICAgPHRkIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij48aW5wdXQgbmFtZT0icHdkIiB0eXBlPSJwYXNzd29yZCIgaWQ9InB3ZCIgc2l6ZT0iMTYiIHN0eWxlPSJ3aWR0aDoyMDBweCI+DQogICAgICAgICAgICAgICA8YSBocmVmPSIkY2hhbmd5YW5fZm9yZ2V0X3B3ZF91cmwiIHN0eWxlPSJjb2xvcjpibHVlIj7lv5jorrDlr4bnoIE8L2E+ICZuYnNwOyA8L3RkPg0KICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgPHRkIGhlaWdodD0iMzAiPuaPkuS7tueJiOacrO+8mjwvdGQ+DQogICAgICAgICAgICAgIDx0ZCBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+PGlucHV0IG5hbWU9InZlciIgdHlwZT0idGV4dCIgaWQ9InZlciIgc2l6ZT0iMTYiIHN0eWxlPSJ3aWR0aDoyMDBweCIgdmFsdWU9InskdmVyc2lvbn0iIHJlYWRvbmx5IC8+DQogICAgICAgICAgICAgICA8YSBocmVmPSIkY2hhbmd5YW5fdXBkYXRlX3VybCIgc3R5bGU9ImNvbG9yOmJsdWUiPuS4i+i9veaWsOeJiOaPkuS7tjwvYT4gJm5ic3A7IDwvdGQ+DQogICAgICAgICAgICA8L3RyPg0KICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgIDwvdGFibGU+PC90ZD4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCBjb2xzcGFuPScyJyBiZ2NvbG9yPScjRjlGQ0VGJz48dGFibGUgd2lkdGg9JzEwMCUnIGJvcmRlcj0nMCcgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJz4NCiAgICAgICAgICA8dHIgYWxpZ249J2NlbnRlcicgaGVpZ2h0PScyOCc+DQogICAgICAgICAgICA8dGQgd2lkdGg9JzE2JSc+PC90ZD4NCiAgICAgICAgICAgIDx0ZCB3aWR0aD0nODQlJyBzdHlsZT0idGV4dC1hbGlnbjogbGVmdDsiPjxpbnB1dCBuYW1lPSdpbWFnZUZpZWxkMScgdHlwZT0naW1hZ2UnIGNsYXNzPSducCcgc3JjPSd7JGNmZ19wbHVzX2Rpcn0vaW1nL2J1dHRvbl9vay5naWYnIHdpZHRoPSc2MCcgaGVpZ2h0PScyMicgYm9yZGVyPScwJyAvPjwvdGQ+DQogICAgICAgICAgICA8dGQ+PC90ZD4NCiAgICAgICAgICA8L3RyPg0KICAgICAgICA8L3RhYmxlPjwvdGQ+DQogICAgPC90cj4NCiAgPC90YWJsZT4NCiAgPC90ZD4NCiAgPC90cj4NCjwvdGFibGU+DQo8L2JvZHk+DQo8L2h0bWw+DQpFT1Q7DQogICAgICAgIGVjaG8gJG1zZzsNCiAgICB9DQp9DQo/Pg0K
</file>
<file type='file' name='../include/helpers/changyan.helper.php'>
PD9waHAgaWYoIWRlZmluZWQoJ0RFREVJTkMnKSkgZXhpdCgnZGVkZWNtcycpOw0KDQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9BRVMnLCAnaHR0cDovL2NoYW5neWFuLmFwaS5kZWRlY21zLmNvbS8nKTsNCmRlZmluZSgnQ0hBTkdZQU5fSlFVRVJZJywgJ2h0dHA6Ly9qcy5zb2h1LmNvbS9saWJyYXJ5L2pxdWVyeS0xLjcuMS5taW4uanMnKTsNCmRlZmluZSgnQ0hBTkdZQU5fQVBJX1NJR04nLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9vcGVuL2dldC1zaWduJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9SRUcnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9vcGVuL3JlZycpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfQVVUT1JFRycsICdodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vYWRtaW4vYXBpL29wZW4vYXV0by1yZWcnKTsNCmRlZmluZSgnQ0hBTkdZQU5fQVBJX0xPR0lOJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hZG1pbi9hcGkvb3Blbi92YWxpZGF0ZScpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfU0VUQ09PS0lFJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hZG1pbi9hcGkvb3Blbi9zZXQtY29va2llJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9JU05FVycsICdodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vYWRtaW4vYXBpL3JlY2VudC1jb21tZW50LXRvcGljcycpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfTEFURVNUUycsICdodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vYXBpLzIvY29tbWVudC9sYXRlc3RzJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9SRUNFTlQnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9yZWNlbnQtY29tbWVudC10b3BpY3MnKTsNCmRlZmluZSgnQ0hBTkdZQU5fQVBJX0NPREUnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9vcGVuL2dldC1jb2RlJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9BRERTSVRFJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hZG1pbi9hcGkvb3Blbi9hZGQtaXN2Jyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9DSEFOR0VfSVNWJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9jaGFuZ2UtaXN2LycpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfQ0hFQ0tfTE9HSU4nLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2NoZWNrLWxvZ2luJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9HRVRBUFBLRVknLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tLyBhZG1pbi9hcGkvb3Blbi9nZXQtYXBwa2V5Jyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9DT01NRU5UUycsICdodHRwOi8vcy5jaGFuZ3lhbi5zb2h1LmNvbS9hcGkvMi90b3BpYy9jb21tZW50cycpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfVE9QSUNDT01NRU5UUycsICdodHRwOi8vcy5jaGFuZ3lhbi5zb2h1LmNvbS9hcGkvMi90b3BpYy9sb2FkJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9JTVBPUlQnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9pbXBvcnQvY29tbWVudCcpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfR0VUSVNWUycsICdodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vYWRtaW4vYXBpL29wZW4vZ2V0LWlzdnMnKTsNCmRlZmluZSgnQ0hBTkdZQU5fQVBJX0dFVElTVlNfSlNPTlAnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9vcGVuL2dldC1pc3ZzLWpzb25wJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9CSU5EQUNDJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hZG1pbi9hcGkvb3Blbi9tb2Qtb3BpbmZvJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9GT1JHRVRfUFdEJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9wbGF0Zm9ybS9mb3JnZXQtcHdkJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX1JFR19VUkwnLCdodHRwOi8vd3d3Lmt1YWl6aGFuLmNvbS9wYXNzcG9ydC8/cmVmZXI9aHR0cDovL2NoYW5neWFuLmt1YWl6aGFuLmNvbS9hdWRpdC9jb21tZW50cy9UT0FVRElULzEnKTsNCmRlZmluZSgnQ0hBTkdZQU5fRk9SR0VUX1BXRF9VUkwnLCdodHRwOi8vd3d3Lmt1YWl6aGFuLmNvbS9wYXNzcG9ydC8/cmVmZXI9aHR0cDovL2NoYW5neWFuLmt1YWl6aGFuLmNvbS9hdWRpdC9jb21tZW50cy9UT0FVRElULzEnKTsNCmRlZmluZSgnQ0hBTkdZQU5fVVBEQVRFX1VSTCcsJ2h0dHA6Ly9jaGFuZ3lhbi5zb2h1LmNvbS9kb3dubG9hZC9kZWRlLycpOw0KDQpkZWZpbmUoJ0NIQU5HWUFOX0NMSUVOVF9JRCcsICdjYXFYWUllMzInKTsNCmRlZmluZSgnQ0hBTkdZQU5fQ0xJRU5UX0tFWScsICdiY2I1ODU2MjhiNTk1ODQ4OTFmZjU4OTdiZTg4OGM0NScpOw0KDQovL2RlZmluZSgnQ0hBTkdZQU5fSlFVRVJZX1NSQycsICc8c2NyaXB0PndpbmRvdy5qUXVlcnkgfHwgZG9jdW1lbnQud3JpdGUodW5lc2NhcGUoXCclM0NzY3JpcHQgc3JjPSJodHRwOi8vY2hhbmd5YW4uYXBpLmRlZGVjbXMuY29tL2Fzc2V0cy9qcy9qcXVlcnkubWluLmpzIiUzRSUzQy9zY3JpcHQlM0VcJykpPC9zY3JpcHQ+Jyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0pRVUVSWV9TUkMnLCAnPHNjcmlwdD53aW5kb3cualF1ZXJ5IHx8IGRvY3VtZW50LndyaXRlKHVuZXNjYXBlKFwnJTNDc2NyaXB0IHNyYz0iaHR0cDovL2pzLnNvaHUuY29tL2xpYnJhcnkvanF1ZXJ5LTEuNy4xLm1pbi5qcyIlM0UlM0Mvc2NyaXB0JTNFXCcpKTwvc2NyaXB0PicpOw0KDQpkZWZpbmUoJ0NIQU5HWUFOX1ZFUicsICcwLjAuMTcnKTsNCg0KJEdMT0JBTFNbJ3VwZGF0ZV9zcWxzJ109YXJyYXkoDQogICAgJzAuMC4yJz0+YXJyYXkoDQogICAgICAgICJJTlNFUlQgSU5UTyBgI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZ2AgKGBza2V5YCwgYHN2YWx1ZWAsIGBzdGltZWApIFZBTFVFUyAoJ2xhc3RfZXhwb3J0JywgJzAnLCAwKTsiLA0KICAgICAgICAiSU5TRVJUIElOVE8gYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIChgc2tleWAsIGBzdmFsdWVgLCBgc3RpbWVgKSBWQUxVRVMgKCdsYXN0X2ltcG9ydCcsICcwJywgMCk7IiwNCiAgICAgICAgIklOU0VSVCBJTlRPIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCAoYHNrZXlgLCBgc3ZhbHVlYCwgYHN0aW1lYCkgVkFMVUVTICgndmVyc2lvbicsICcwLjAuMicsIDApOyIsDQogICAgICAgICJJTlNFUlQgSU5UTyBgI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZ2AgKGBza2V5YCwgYHN2YWx1ZWAsIGBzdGltZWApIFZBTFVFUyAoJ2lzdl9hcHBfa2V5JywgJzAnLCAwKTsiLA0KICAgICAgICAiQ1JFQVRFIFRBQkxFIGAjQF9fcGx1c19jaGFuZ3lhbl9pbnNlcnRpZHNgIChgaWRgIElOVCgxMCkgTk9UIE5VTEwgQVVUT19JTkNSRU1FTlQsDQogICAgICAgICAgICBgYWlkYCBJTlQoMTApIE5VTEwgREVGQVVMVCAnMCcsDQogICAgICAgICAgICBgY29tbWVudF9pZGAgSU5UKDEyKSBOVUxMIERFRkFVTFQgJzAnLA0KICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGBpZGApLA0KICAgICAgICAgICAgVU5JUVVFIElOREVYIGBjb21tZW50X2lkYCAoYGNvbW1lbnRfaWRgKQ0KICAgICAgICApDQogICAgICAgIFRZUEU9TXlJU0FNOyIsDQogICAgICAgICJDUkVBVEUgVEFCTEUgYCNAX19wbHVzX2NoYW5neWFuX2ltcG9ydGlkc2AgKGBpZGAgSU5UKDEwKSBOT1QgTlVMTCBBVVRPX0lOQ1JFTUVOVCwNCiAgICAgICAgICAgIGBhaWRgIElOVCgxMCkgTlVMTCBERUZBVUxUICcwJywNCiAgICAgICAgICAgIGBmZWVkYmFja19pZGAgSU5UKDEyKSBOVUxMIERFRkFVTFQgJzAnLA0KICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGBpZGApLA0KICAgICAgICAgICAgVU5JUVVFIElOREVYIGBmZWVkYmFja19pZGAgKGBmZWVkYmFja19pZGApDQogICAgICAgICkNCiAgICAgICAgVFlQRT1NeUlTQU07IiwNCiAgICApLA0KICAgICcwLjAuMyc9PmFycmF5KA0KICAgICAgICAiVVBEQVRFIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCBTRVQgYHN2YWx1ZWA9JzAuMC4zJyBXSEVSRSBgc2tleWA9J3ZlcnNpb24nOyIsDQogICAgKSwNCiAgICAnMC4wLjQnPT5hcnJheSgNCiAgICAgICAgIlVQREFURSBgI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZ2AgU0VUIGBzdmFsdWVgPScwLjAuNCcgV0hFUkUgYHNrZXlgPSd2ZXJzaW9uJzsiLA0KICAgICksDQogICAgJzAuMC41Jz0+YXJyYXkoDQogICAgICAgICJVUERBVEUgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIFNFVCBgc3ZhbHVlYD0nMC4wLjUnIFdIRVJFIGBza2V5YD0ndmVyc2lvbic7IiwNCiAgICApLA0KICAgICcwLjAuNic9PmFycmF5KA0KICAgICAgICAiVVBEQVRFIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCBTRVQgYHN2YWx1ZWA9JzAuMC42JyBXSEVSRSBgc2tleWA9J3ZlcnNpb24nOyIsDQogICAgKSwNCiAgICAnMC4wLjcnPT5hcnJheSgNCiAgICAgICAgIlVQREFURSBgI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZ2AgU0VUIGBzdmFsdWVgPScwLjAuNycgV0hFUkUgYHNrZXlgPSd2ZXJzaW9uJzsiLA0KICAgICksDQogICAgJzAuMC44Jz0+YXJyYXkoDQogICAgICAgICJVUERBVEUgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIFNFVCBgc3ZhbHVlYD0nMC4wLjgnIFdIRVJFIGBza2V5YD0ndmVyc2lvbic7IiwNCiAgICApLA0KICAgICcwLjAuOSc9PmFycmF5KA0KICAgICAgICAiVVBEQVRFIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCBTRVQgYHN2YWx1ZWA9JzAuMC45JyBXSEVSRSBgc2tleWA9J3ZlcnNpb24nOyIsDQogICAgKSwNCiAgICAnMC4wLjEwJz0+YXJyYXkoDQogICAgICAgICJVUERBVEUgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIFNFVCBgc3ZhbHVlYD0nMC4wLjEwJyBXSEVSRSBgc2tleWA9J3ZlcnNpb24nOyIsDQogICAgKSwNCik7DQoNCmhlbHBlcignY2FjaGUnKTsNCg0KZnVuY3Rpb24gY2hhbmd5YW5fY2xlYXJjYWNoZSgpDQp7DQogICAgJHByZWZpeCA9ICdjaGFuZ3lhbic7DQogICAgJGtleSA9ICdjb2RlJzsNCiAgICBEZWxDYWNoZSgkcHJlZml4LCAka2V5KTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fbWNoU3RyQ29kZSgkc3RyaW5nLCAkb3BlcmF0aW9uID0gJ0VOQ09ERScpIA0Kew0KICAgICRrZXlfbGVuZ3RoID0gNDsNCiAgICAkZXhwaXJ5ID0gMDsNCiAgICAka2V5ID0gbWQ1KCRHTE9CQUxTWydjZmdfY29va2llX2VuY29kZSddKTsNCiAgICAkZml4ZWRrZXkgPSBtZDUoJGtleSk7DQogICAgJGVnaXNrZXlzID0gbWQ1KHN1YnN0cigkZml4ZWRrZXksIDE2LCAxNikpOw0KICAgICRydW50b2tleSA9ICRrZXlfbGVuZ3RoID8gKCRvcGVyYXRpb24gPT0gJ0VOQ09ERScgPyBzdWJzdHIobWQ1KG1pY3JvdGltZSh0cnVlKSksIC0ka2V5X2xlbmd0aCkgOiBzdWJzdHIoJHN0cmluZywgMCwgJGtleV9sZW5ndGgpKSA6ICcnOw0KICAgICRrZXlzID0gbWQ1KHN1YnN0cigkcnVudG9rZXksIDAsIDE2KSAuIHN1YnN0cigkZml4ZWRrZXksIDAsIDE2KSAuIHN1YnN0cigkcnVudG9rZXksIDE2KSAuIHN1YnN0cigkZml4ZWRrZXksIDE2KSk7DQogICAgJHN0cmluZyA9ICRvcGVyYXRpb24gPT0gJ0VOQ09ERScgPyBzcHJpbnRmKCclMDEwZCcsICRleHBpcnkgPyAkZXhwaXJ5ICsgdGltZSgpIDogMCkuc3Vic3RyKG1kNSgkc3RyaW5nLiRlZ2lza2V5cyksIDAsIDE2KSAuICRzdHJpbmcgOiBiYXNlNjRfZGVjb2RlKHN1YnN0cigkc3RyaW5nLCAka2V5X2xlbmd0aCkpOw0KDQogICAgJGkgPSAwOyAkcmVzdWx0ID0gJyc7DQogICAgJHN0cmluZ19sZW5ndGggPSBzdHJsZW4oJHN0cmluZyk7DQogICAgZm9yICgkaSA9IDA7ICRpIDwgJHN0cmluZ19sZW5ndGg7ICRpKyspew0KICAgICAgICAkcmVzdWx0IC49IGNocihvcmQoJHN0cmluZ3skaX0pIF4gb3JkKCRrZXlzeyRpICUgMzJ9KSk7DQogICAgfQ0KICAgIGlmKCRvcGVyYXRpb24gPT0gJ0VOQ09ERScpIHsNCiAgICAgICAgcmV0dXJuICRydW50b2tleSAuIHN0cl9yZXBsYWNlKCc9JywgJycsIGJhc2U2NF9lbmNvZGUoJHJlc3VsdCkpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGlmKChzdWJzdHIoJHJlc3VsdCwgMCwgMTApID09IDAgfHwgc3Vic3RyKCRyZXN1bHQsIDAsIDEwKSAtIHRpbWUoKSA+IDApICYmIHN1YnN0cigkcmVzdWx0LCAxMCwgMTYpID09IHN1YnN0cihtZDUoc3Vic3RyKCRyZXN1bHQsIDI2KS4kZWdpc2tleXMpLCAwLCAxNikpIHsNCiAgICAgICAgICAgIHJldHVybiBzdWJzdHIoJHJlc3VsdCwgMjYpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9RdW90ZV9yZXBsYWNlKCRxdW90ZSkNCnsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgne3F1b3RlfScsJycsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgne3RpdGxlfScsJycsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgney90aXRsZX0nLCcnLCRxdW90ZSk7DQogICAgJHF1b3RlID0gc3RyX3JlcGxhY2UoJyZsdDtici8mZ3Q7JywiXG5cciIsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgnJmx0OycsICcnLCAkcXVvdGUpOw0KICAgICRxdW90ZSA9IHN0cl9yZXBsYWNlKCcmZ3Q7JywgJycsICRxdW90ZSk7DQogICAgJHF1b3RlID0gc3RyX3JlcGxhY2UoJ3tjb250ZW50fScsJycsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgney9jb250ZW50fScsJycsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgney9xdW90ZX0nLCcnLCRxdW90ZSk7DQogICAgcmV0dXJuICRxdW90ZTsNCn0NCg0KDQovL+abtOaWsOmFjee9ruWHveaVsA0KZnVuY3Rpb24gY2hhbmd5YW5fUmVXcml0ZUNvbmZpZygpDQp7DQogICAgZ2xvYmFsICRkc3FsOw0KICAgICRjb25maWdmaWxlID0gREVERURBVEEuJy9jb25maWcuY2FjaGUuaW5jLnBocCc7DQogICAgaWYoIWlzX3dyaXRlYWJsZSgkY29uZmlnZmlsZSkpDQogICAgew0KICAgICAgICBlY2hvICLphY3nva7mlofku7YneyRjb25maWdmaWxlfSfkuI3mlK/mjIHlhpnlhaXvvIzml6Dms5Xkv67mlLnns7vnu5/phY3nva7lj4LmlbDvvIEiOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KICAgICRmcCA9IGZvcGVuKCRjb25maWdmaWxlLCd3Jyk7DQogICAgZmxvY2soJGZwLDMpOw0KICAgIGZ3cml0ZSgkZnAsIjwiLiI/cGhwXHJcbiIpOw0KICAgICRkc3FsLT5TZXRRdWVyeSgiU0VMRUNUIGB2YXJuYW1lYCxgdHlwZWAsYHZhbHVlYCxgZ3JvdXBpZGAgRlJPTSBgI0BfX3N5c2NvbmZpZ2AgT1JERVIgQlkgYWlkIEFTQyAiKTsNCiAgICAkZHNxbC0+RXhlY3V0ZSgpOw0KICAgIHdoaWxlKCRyb3cgPSAkZHNxbC0+R2V0QXJyYXkoKSkNCiAgICB7DQogICAgICAgIGlmKCRyb3dbJ3R5cGUnXT09J251bWJlcicpDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKCRyb3dbJ3ZhbHVlJ109PScnKSAkcm93Wyd2YWx1ZSddID0gMDsNCiAgICAgICAgICAgIGZ3cml0ZSgkZnAsIlwkeyRyb3dbJ3Zhcm5hbWUnXX0gPSAiLiRyb3dbJ3ZhbHVlJ10uIjtcclxuIik7DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICBmd3JpdGUoJGZwLCJcJHskcm93Wyd2YXJuYW1lJ119ID0gJyIuc3RyX3JlcGxhY2UoIiciLCcnLCRyb3dbJ3ZhbHVlJ10pLiInO1xyXG4iKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmd3JpdGUoJGZwLCI/Ii4iPiIpOw0KICAgIGZjbG9zZSgkZnApOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9odHRwX3NlbmQoJHVybCwgJGxpbWl0PTAsICRwb3N0PScnLCAkY29va2llPScnLCAkdGltZW91dD0xNSkNCnsNCiAgICAkcmV0dXJuID0gJyc7DQogICAgJG1hdGNoZXMgPSBwYXJzZV91cmwoJHVybCk7DQogICAgJHNjaGVtZSA9ICRtYXRjaGVzWydzY2hlbWUnXTsNCiAgICAkaG9zdCA9ICRtYXRjaGVzWydob3N0J107DQogICAgJHBhdGggPSAkbWF0Y2hlc1sncGF0aCddID8gJG1hdGNoZXNbJ3BhdGgnXS4oQCRtYXRjaGVzWydxdWVyeSddID8gJz8nLiRtYXRjaGVzWydxdWVyeSddIDogJycpIDogJy8nOw0KICAgICRwb3J0ID0gIWVtcHR5KCRtYXRjaGVzWydwb3J0J10pID8gJG1hdGNoZXNbJ3BvcnQnXSA6IDgwOw0KDQogICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygnY3VybF9pbml0JykgJiYgZnVuY3Rpb25fZXhpc3RzKCdjdXJsX2V4ZWMnKSkgew0KICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHNjaGVtZS4nOi8vJy4kaG9zdC4nOicuJHBvcnQuJHBhdGgpOw0KICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOw0KICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIDEpOw0KICAgICAgICBpZiAoJHBvc3QpIHsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCAxKTsNCiAgICAgICAgICAgICRjb250ZW50ID0gaXNfYXJyYXkoJHBvc3QpID8gaHR0cF9idWlsZF9xdWVyeSgkcG9zdCkgOiAkcG9zdDsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCB1cmxkZWNvZGUoJGNvbnRlbnQpKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJGNvb2tpZSkgew0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPT0tJRSwgJGNvb2tpZSk7DQogICAgICAgIH0NCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCAkdGltZW91dCk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9USU1FT1VULCA5MDApOw0KICAgICAgICAkZGF0YSA9IGN1cmxfZXhlYygkY2gpOw0KICAgICAgICAkc3RhdHVzID0gY3VybF9nZXRpbmZvKCRjaCk7DQogICAgICAgICRlcnJubyA9IGN1cmxfZXJybm8oJGNoKTsNCiAgICAgICAgY3VybF9jbG9zZSgkY2gpOw0KICAgICAgICBpZiAoJGVycm5vIHx8ICRzdGF0dXNbJ2h0dHBfY29kZSddICE9IDIwMCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuICEkbGltaXQgPyAkZGF0YSA6IHN1YnN0cigkZGF0YSwgMCwgJGxpbWl0KTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGlmICgkcG9zdCkgew0KICAgICAgICAkY29udGVudCA9IGlzX2FycmF5KCRwb3N0KSA/IHVybGRlY29kZShodHRwX2J1aWxkX3F1ZXJ5KCRwb3N0KSkgOiAkcG9zdDsNCiAgICAgICAgJG91dCA9ICJQT1NUICRwYXRoIEhUVFAvMS4wXHJcbiI7DQogICAgICAgICRoZWFkZXIgPSAiQWNjZXB0OiAqLypcclxuIjsNCiAgICAgICAgJGhlYWRlciAuPSAiQWNjZXB0LUxhbmd1YWdlOiB6aC1jblxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICJVc2VyLUFnZW50OiAiLkAkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10uIlxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICJIb3N0OiAkaG9zdDokcG9ydFxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICdDb250ZW50LUxlbmd0aDogJy5zdHJsZW4oJGNvbnRlbnQpLiJcclxuIjsNCiAgICAgICAgJGhlYWRlciAuPSAiQ29ubmVjdGlvbjogQ2xvc2VcclxuIjsNCiAgICAgICAgJGhlYWRlciAuPSAiQ2FjaGUtQ29udHJvbDogbm8tY2FjaGVcclxuIjsNCiAgICAgICAgJGhlYWRlciAuPSAiQ29va2llOiAkY29va2llXHJcblxyXG4iOw0KICAgICAgICAkb3V0IC49ICRoZWFkZXIuJGNvbnRlbnQ7DQogICAgfSBlbHNlIHsNCiAgICAgICAgJG91dCA9ICJHRVQgJHBhdGggSFRUUC8xLjBcclxuIjsNCiAgICAgICAgJGhlYWRlciA9ICJBY2NlcHQ6ICovKlxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICJBY2NlcHQtTGFuZ3VhZ2U6IHpoLWNuXHJcbiI7DQogICAgICAgICRoZWFkZXIgLj0gIlVzZXItQWdlbnQ6ICIuQCRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXS4iXHJcbiI7DQogICAgICAgICRoZWFkZXIgLj0gIkhvc3Q6ICRob3N0OiRwb3J0XHJcbiI7DQogICAgICAgICRoZWFkZXIgLj0gIkNvbm5lY3Rpb246IENsb3NlXHJcbiI7DQogICAgICAgICRoZWFkZXIgLj0gIkNvb2tpZTogJGNvb2tpZVxyXG5cclxuIjsNCiAgICAgICAgJG91dCAuPSAkaGVhZGVyOw0KICAgIH0NCg0KICAgICRmcGZsYWcgPSAwOw0KICAgICRmcCA9IGZhbHNlOw0KICAgIGlmIChmdW5jdGlvbl9leGlzdHMoJ2Zzb2NrZXRvcGVuJykpIHsNCiAgICAgICAgJGZwID0gZnNvY2tldG9wZW4oJGhvc3QsICRwb3J0LCAkZXJybm8sICRlcnJzdHIsICR0aW1lb3V0KTsNCiAgICB9DQogICAgaWYgKCEkZnApIHsNCiAgICAgICAgJGNvbnRleHQgPSBzdHJlYW1fY29udGV4dF9jcmVhdGUoYXJyYXkoDQogICAgICAgICAgICAnaHR0cCcgPT4gYXJyYXkoDQogICAgICAgICAgICAgICAgJ21ldGhvZCcgPT4gJHBvc3QgPyAnUE9TVCcgOiAnR0VUJywNCiAgICAgICAgICAgICAgICAnaGVhZGVyJyA9PiAkaGVhZGVyLA0KICAgICAgICAgICAgICAgICdjb250ZW50JyA9PiAkY29udGVudCwNCiAgICAgICAgICAgICAgICAndGltZW91dCcgPT4gJHRpbWVvdXQsDQogICAgICAgICAgICApLA0KICAgICAgICApKTsNCiAgICAgICAgJGZwID0gQGZvcGVuKCRzY2hlbWUuJzovLycuJGhvc3QuJzonLiRwb3J0LiRwYXRoLCAnYicsIGZhbHNlLCAkY29udGV4dCk7DQogICAgICAgICRmcGZsYWcgPSAxOw0KICAgIH0NCg0KICAgIGlmICghJGZwKSB7DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9IGVsc2Ugew0KICAgICAgICBzdHJlYW1fc2V0X2Jsb2NraW5nKCRmcCwgdHJ1ZSk7DQogICAgICAgIHN0cmVhbV9zZXRfdGltZW91dCgkZnAsICR0aW1lb3V0KTsNCiAgICAgICAgQGZ3cml0ZSgkZnAsICRvdXQpOw0KICAgICAgICAkc3RhdHVzID0gc3RyZWFtX2dldF9tZXRhX2RhdGEoJGZwKTsNCiAgICAgICAgaWYgKCEkc3RhdHVzWyd0aW1lZF9vdXQnXSkgew0KICAgICAgICAgICAgd2hpbGUgKCFmZW9mKCRmcCkgJiYgISRmcGZsYWcpIHsNCiAgICAgICAgICAgICAgICBpZiAoKCRoZWFkZXIgPSBAZmdldHMoJGZwKSkgJiYgKCRoZWFkZXIgPT0gIlxyXG4iIHx8ICAkaGVhZGVyID09ICJcbiIpKSB7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgkbGltaXQpIHsNCiAgICAgICAgICAgICAgICAkcmV0dXJuID0gc3RyZWFtX2dldF9jb250ZW50cygkZnAsICRsaW1pdCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICRyZXR1cm4gPSBzdHJlYW1fZ2V0X2NvbnRlbnRzKCRmcCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgQGZjbG9zZSgkZnApOw0KICAgICAgICByZXR1cm4gJHJldHVybjsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2F1dG9DaGFyc2V0KCRtc2csJHR5cGU9J291dCcpDQp7DQogICAgZ2xvYmFsICRjZmdfc29mdF9sYW5nOw0KICAgIGlmICgkY2ZnX3NvZnRfbGFuZz09J2diMjMxMicpIHsNCiAgICAgICAgaWYoJHR5cGU9PSdvdXQnKSByZXR1cm4gZ2IydXRmOCgkbXNnKTsNCiAgICAgICAgZWxzZSByZXR1cm4gdXRmODJnYigkbXNnKTsNCiAgICB9IA0KICAgIHJldHVybiAkbXNnOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9nZW5fc2lnbigkdXNlcikNCnsNCiAgICBnbG9iYWwgJGNmZ192ZXJzaW9uLCRkc3FsOw0KICAgICRwaHB2ID0gcGhwdmVyc2lvbigpOw0KICAgICRzcF9vcyA9IFBIUF9PUzsNCiAgICAkbXlzcWxfdmVyID0gJGRzcWwtPkdldFZlcnNpb24oKTsNCiAgICAkbnVybCA9ICRfU0VSVkVSWydIVFRQX0hPU1QnXTsNCiAgICBpZiggcHJlZ19tYXRjaCgiI1thLXpcLV17MSx9XC5bYS16XXsyLH0jaSIsJG51cmwpICkgew0KICAgICAgICAkbnVybCA9IHVybGVuY29kZSgkbnVybCk7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICAkbnVybCA9ICJ0ZXN0IjsNCiAgICB9DQogICAgJGFlc191cmw9Q0hBTkdZQU5fQVBJX1NJR04uJz9wbGF0Zm9ybT1kZWRlY21zJy4nJmlucHV0PScuJHVzZXIuIiZ2ZXJzaW9uPXskY2ZnX3ZlcnNpb259JmZvcm11cmw9eyRudXJsfSZwaHB2ZXI9eyRwaHB2fSZvcz17JHNwX29zfSZteXNxbHZlcj17JG15c3FsX3Zlcn0mY3l2ZXI9Ii5DSEFOR1lBTl9WRVI7DQogICAgcmV0dXJuIGNoYW5neWFuX2h0dHBfc2VuZCgkYWVzX3VybCk7DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2JpbmRfYWNjb3VudCgkbmV3X3VzZXIsJG5ld19wd2QsICRlcnJvcmluZm89JycpDQp7DQogICAgJG9sZF91c2VyID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAkb2xkX3Bhc3N3b3JkPWNoYW5neWFuX21jaFN0ckNvZGUoY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3B3ZCcpLCAnREVDT0RFJykgOw0KICAgICRzaWduPWNoYW5neWFuX2dlbl9zaWduKCRvbGRfdXNlcik7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PkNIQU5HWUFOX0NMSUVOVF9JRCwgDQogICAgICAgICdvbGRfdXNlcic9PiRvbGRfdXNlciwgDQogICAgICAgICdvbGRfcGFzc3dvcmQnPT4kb2xkX3Bhc3N3b3JkLCANCiAgICAgICAgJ25ld191c2VyJz0+JG5ld191c2VyLCANCiAgICAgICAgJ25ld19wYXNzd29yZCc9PiRuZXdfcHdkLCANCiAgICAgICAgJ3NpZ24nPT4kc2lnbik7DQogICAgJHJzPWpzb25fZGVjb2RlKGNoYW5neWFuX2h0dHBfc2VuZChDSEFOR1lBTl9BUElfQklOREFDQy4nPycuaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zQXJyKSksVFJVRSk7DQogICAgaWYoIWlzc2V0KCRyc1snc3RhdHVzJ10pKSByZXR1cm4gRkFMU0U7DQogICAgaWYoJHJzWydzdGF0dXMnXT09MCkNCiAgICB7DQogICAgICAgICRuZXdfcHdkID0gY2hhbmd5YW5fbWNoU3RyQ29kZSgkbmV3X3B3ZCwgJ0VOQ09ERScpOw0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygndXNlcicsICRuZXdfdXNlcik7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdwd2QnLCAkbmV3X3B3ZCk7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdpc3ZfYXBwX2tleScsICcnKTsNCiAgICAgICAgJGlzdl9hcHBfa2V5ID0gY2hhbmd5YW5fZ2V0X2lzdl9hcHBfa2V5KCk7DQogICAgICAgIGNoYW5neWFuX2NsZWFyY2FjaGUoKTsNCiAgICAgICAgcmV0dXJuIFRSVUU7DQogICAgfSBlbHNlIHsNCiAgICAgICAgJGVycm9yaW5mbyA9ICRyc1snbXNnJ107DQogICAgICAgIHJldHVybiBGQUxTRTsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2htYWNzaGExKCRkYXRhLCAka2V5KSB7DQogICAgcmV0dXJuIGhhc2hfaG1hYygnc2hhMScsICRkYXRhLCAka2V5KTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0X2lzdnMoKQ0Kew0KICAgICR1c2VyID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PkNIQU5HWUFOX0NMSUVOVF9JRCwgDQogICAgICAgICd1c2VyJz0+JHVzZXIsIA0KICAgICAgICAnc2lnbic9PiRzaWduKTsNCiAgICAkcnM9anNvbl9kZWNvZGUoY2hhbmd5YW5faHR0cF9zZW5kKENIQU5HWUFOX0FQSV9HRVRJU1ZTLic/Jy5odHRwX2J1aWxkX3F1ZXJ5KCRwYXJhbXNBcnIpKSxUUlVFKTsNCiAgICBpZihpc3NldCgkcnNbJ2lzdnMnXSkpIHJldHVybiBqc29uX2RlY29kZSgkcnNbJ2lzdnMnXSxUUlVFKTsNCiAgICBlbHNlIHJldHVybiBGQUxTRTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0X2lzdnNfanNvbnAoKQ0Kew0KICAgICRhcHBpZCA9IGNoYW5neWFuX2dldF9zZXR0aW5nKCdhcHBpZCcpOw0KICAgICR1c2VyID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgJGNsaWVudF9pZD1DSEFOR1lBTl9DTElFTlRfSUQ7DQogICAgJGpzb25wX3VybD1DSEFOR1lBTl9BUElfR0VUSVNWU19KU09OUDsNCiAgICByZXR1cm4gPDw8RU9UDQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQokLmFqYXgoeyAgDQogICAgICAgIHR5cGU6ICJnZXQiLCAgDQogICAgICAgIHVybDogInskanNvbnBfdXJsfSIsICANCiAgICAgICAgZGF0YVR5cGU6ICJqc29ucCIsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgIGNsaWVudF9pZDogJ3skY2xpZW50X2lkfScsDQogICAgICAgICAgICB1c2VyOiAneyR1c2VyfScsDQogICAgICAgICAgICBzaWduOiAneyRzaWdufScNCiAgICAgICAgfSwNCiAgICAgICAganNvbnA6ICJjYWxsYmFjayIsDQogICAgICAgIGpzb25wQ2FsbGJhY2s6ICJzdWNjZXNzX2pzb25wQ2FsbGJhY2siLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXsgIA0KICAgICAgICAgICAgaXN2cyA9IGV2YWwoZXZhbChkYXRhKVsiaXN2cyJdKTsNCiAgICAgICAgICAgIHZhciBkYl9hcHBpZD0neyRhcHBpZH0nOw0KICAgICAgICAgICAgdmFyIGlzdnNDb250ZW50PScnOw0KICAgICAgICAgICAgJC5lYWNoKGlzdnMsIGZ1bmN0aW9uKGksaXRlbSl7DQogICAgICAgICAgICAgICAgdmFyIGFwcElkPWl0ZW0uYXBwSWQ7DQogICAgICAgICAgICAgICAgdmFyIGFwcEtleT1pdGVtLmFwcEtleTsNCiAgICAgICAgICAgICAgICB2YXIgbmFtZT1pdGVtLm5hbWU7DQogICAgICAgICAgICAgICAgdmFyIGlkPWl0ZW0uaWQ7DQogICAgICAgICAgICAgICAgdmFyIHVybD1pdGVtLnVybDsNCiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZHN0cj0nJzsNCiAgICAgICAgICAgICAgICBpZihkYl9hcHBpZD09YXBwSWQpIGNoZWNrZWRzdHI9JyBjaGVja2VkJzsNCiAgICAgICAgICAgICAgICBvcHRpb25faHRtbCA9ICc8cD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImFwcEluZm8iIGlkPSJhcHBJbmZvJytpZCsnIiB2YWx1ZT0iJythcHBJZCsnfCcrYXBwS2V5KyciJytjaGVja2Vkc3RyKyc+IDxsYWJlbCBmb3I9ImFwcEluZm8nK2lkKyciPicrbmFtZSsnIFsnK2FwcElkKycgfCAnK3VybCsnXTwvbGFiZWw+PC9wPic7DQogICAgICAgICAgICAgICAgaXN2c0NvbnRlbnQgPSBpc3ZzQ29udGVudCArIG9wdGlvbl9odG1sOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAkKCIjaXN2c0NvbnRlbnQiKS5odG1sKGlzdnNDb250ZW50KTsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpew0KICAgICAgICAgICAgaXN2c0NvbnRlbnQgPSAi5rKh5pyJ6I635Y+W5Yiw5b2T5YmN55m75b2V6LSm5Y+35omA5a+55bqU55qEQVBQSUTkv6Hmga/vvIzor7fmo4Dmn6XmmK/lkKbmraPnoa7lronoo4XnlYXoqIDmqKHlnZfjgIIiOw0KICAgICAgICAgICAgJCgiI2lzdnNDb250ZW50IikuaHRtbChpc3ZzQ29udGVudCk7DQogICAgICAgIH0sICAgICAgICANCiAgICAgICAgICANCiAgICB9KTsNCjwvc2NyaXB0Pg0KRU9UOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9nZXRfaXN2X2FwcF9rZXkoKQ0Kew0KICAgIGdsb2JhbCAkY2xpZW50X2lkOw0KICAgICRpc3ZfYXBwX2tleT1jaGFuZ3lhbl9nZXRfc2V0dGluZygnaXN2X2FwcF9rZXknKTsNCiAgICBpZiAoIWVtcHR5KCRpc3ZfYXBwX2tleSkpIHsNCiAgICAgICAgcmV0dXJuICRpc3ZfYXBwX2tleTsNCiAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gRkFMU0U7DQogICAgfSAvL+aOpeWPo+S4i+e6v++8jOebtOaOpemAmui/h+iuvuWummFwcGluZm/mjqXlj6MNCiAgICAkdXNlciA9IGNoYW5neWFuX2dldF9zZXR0aW5nKCd1c2VyJyk7DQogICAgDQogICAgaWYgKCFlbXB0eSgkaXN2X2FwcF9rZXkpKSB7DQogICAgICAgIHJldHVybiAkaXN2X2FwcF9rZXk7DQogICAgfQ0KICAgICRpc3ZfYXBwX2tleT0nJzsNCiAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PkNIQU5HWUFOX0NMSUVOVF9JRCwgDQogICAgICAgICd1c2VyJz0+JHVzZXIsIA0KICAgICAgICAndXNlcl9hcHBpZCc9PiRjbGllbnRfaWQsDQogICAgICAgICdzaWduJz0+JHNpZ24pOw0KICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0dFVEFQUEtFWS4nPycuaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zQXJyKSk7DQogICAgJHJzID0ganNvbl9kZWNvZGUoJHJzLFRSVUUpOw0KICAgIGlmIChpc3NldCgkcnNbJ2lzdl9hcHBfa2V5J10pKSB7DQogICAgICAgICRpc3ZfYXBwX2tleT0kcnNbJ2lzdl9hcHBfa2V5J107DQogICAgfQ0KICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdpc3ZfYXBwX2tleScsICRpc3ZfYXBwX2tleSk7DQogICAgcmV0dXJuICRpc3ZfYXBwX2tleTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0X2NvbW1lbnRzKCRjbGllbnRfaWQsICR0b3BpY19pZCkNCnsNCiAgICAkcmVzdWx0PWFycmF5KCk7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PiRjbGllbnRfaWQsIA0KICAgICAgICAnc3R5bGUnPT4nZmxvb3InLCANCiAgICAgICAgJ29yZGVyX2J5Jz0+J3RpbWVfYXNjJywgDQogICAgICAgICdwYWdlX25vJz0+MSwgDQogICAgICAgICdwYWdlX3NpemUnPT4xMDAsIA0KICAgICAgICAndG9waWNfaWQnPT4kdG9waWNfaWQpOw0KICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0NPTU1FTlRTLic/Jy5odHRwX2J1aWxkX3F1ZXJ5KCRwYXJhbXNBcnIpKTsNCiAgICAkcnMgPSBqc29uX2RlY29kZSgkcnMsVFJVRSk7DQogICAgcmV0dXJuICRyczsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fbGlzdF9zb3J0X2J5KCRsaXN0LCAkZmllbGQsICRzb3J0Ynk9J2FzYycpIA0Kew0KICAgaWYoaXNfYXJyYXkoJGxpc3QpKXsNCiAgICAgICAkcmVmZXIgPSAkcmVzdWx0U2V0ID0gYXJyYXkoKTsNCiAgICAgICBmb3JlYWNoICgkbGlzdCBhcyAkaSA9PiAkZGF0YSkNCiAgICAgICAgICAgJHJlZmVyWyRpXSA9ICYkZGF0YVskZmllbGRdOw0KICAgICAgIHN3aXRjaCAoJHNvcnRieSkgew0KICAgICAgICAgICBjYXNlICdhc2MnOiAvLyDmraPlkJHmjpLluo8NCiAgICAgICAgICAgICAgICBhc29ydCgkcmVmZXIpOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICBjYXNlICdkZXNjJzovLyDpgIblkJHmjpLluo8NCiAgICAgICAgICAgICAgICBhcnNvcnQoJHJlZmVyKTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgY2FzZSAnbmF0JzogLy8g6Ieq54S25o6S5bqPDQogICAgICAgICAgICAgICAgbmF0Y2FzZXNvcnQoJHJlZmVyKTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICB9DQogICAgICAgZm9yZWFjaCAoICRyZWZlciBhcyAka2V5PT4gJHZhbCkNCiAgICAgICAgICAgJHJlc3VsdFNldFtdID0gJiRsaXN0WyRrZXldOw0KICAgICAgIHJldHVybiAkcmVzdWx0U2V0Ow0KICAgfQ0KICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9pbnNlcnRfY29tbWVudHMoJGNvbW1lbnQsJGFpZCwkdGl0bGUpDQp7DQogICAgZ2xvYmFsICRkc3FsOw0KICAgIGlmICghaXNzZXQoJGNvbW1lbnRbJ2NvbW1lbnRzJ10pKSByZXR1cm4gRkFMU0U7DQogICAgJGRzcWwtPlNldFF1ZXJ5KCJTRUxFQ1QgY29tbWVudF9pZCBGUk9NIGAjQF9fcGx1c19jaGFuZ3lhbl9pbnNlcnRpZHNgIFdIRVJFIGFpZD17JGFpZH0iKTsNCiAgICAkZHNxbC0+RXhlY3V0ZSgnZGQnKTsNCiAgICAkY29tbWVudF9pZHM9YXJyYXkoKTsNCiAgICB3aGlsZSgkYXJyID0gJGRzcWwtPkdldEFycmF5KCdkZCcpKQ0KICAgIHsNCiAgICAgICAgJGNvbW1lbnRfaWRzW10gPSAkYXJyWydjb21tZW50X2lkJ107DQogICAgfQ0KICAgICRpPTA7DQogICAgZm9yZWFjaCAoJGNvbW1lbnRbJ2NvbW1lbnRzJ10gYXMgJGNvbW1lbnQpIA0KICAgIHsNCiAgICAgICAgJGNvbnRlbnQgPSAnJzsNCiAgICAgICAgaWYgKGluX2FycmF5KCRjb21tZW50Wydjb21tZW50X2lkJ10sICRjb21tZW50X2lkcykpIGNvbnRpbnVlOw0KICAgICAgICBpZiAoY291bnQoJGNvbW1lbnRbJ2NvbW1lbnRzJ10pPjApIHsNCiAgICAgICAgICAgICRjb21tZW50Wydjb21tZW50cyddID0gY2hhbmd5YW5fbGlzdF9zb3J0X2J5KCRjb21tZW50Wydjb21tZW50cyddLCAnY3JlYXRlX3RpbWUnLCdkZXNjJyk7DQogICAgICAgICAgICBmb3JlYWNoICgkY29tbWVudFsnY29tbWVudHMnXSBhcyAkYykgew0KICAgICAgICAgICAgICAgICRjWydjb250ZW50J10gPSBjaGFuZ3lhbl9hdXRvQ2hhcnNldCgkY1snY29udGVudCddLCAnaW4nKTsNCiAgICAgICAgICAgICAgICAkY29udGVudCA9ICd7cXVvdGV9e2NvbnRlbnR9Jy4kY29udGVudC4kY1snY29udGVudCddLid7L2NvbnRlbnR9e3RpdGxlfScuDQogICAgICAgICAgICAgICAgICAgICRjWydwYXNzcG9ydCddWyduaWNrbmFtZSddLicg55qE5Y6f5biW77yaey90aXRsZX17L3F1b3RlfSc7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJGFpZD1pbnR2YWwoJGFpZCk7DQogICAgICAgICR0eXBlaWQ9MDsNCiAgICAgICAgJHVzZXJuYW1lPWNoYW5neWFuX2F1dG9DaGFyc2V0KCRjb21tZW50WydwYXNzcG9ydCddWyduaWNrbmFtZSddLCAnaW4nKTsNCiAgICAgICAgJGFyY3RpdGxlPWNoYW5neWFuX2F1dG9DaGFyc2V0KCR0aXRsZSwgJ2luJyk7DQogICAgICAgICRpcD0kY29tbWVudFsnaXAnXTsNCiAgICAgICAgJGNvbW1lbnRfaWQ9JGNvbW1lbnRbJ2NvbW1lbnRfaWQnXTsNCiAgICAgICAgJGlzY2hlY2s9MTsNCiAgICAgICAgJGR0aW1lPSBpbnR2YWwoJGNvbW1lbnRbJ2NyZWF0ZV90aW1lJ10gLyAxMDAwICkgOw0KICAgICAgICAkbXNnID0gJGNvbnRlbnQuY2hhbmd5YW5fYXV0b0NoYXJzZXQoJGNvbW1lbnRbJ2NvbnRlbnQnXSwgJ2luJykgOw0KICAgICAgICAkaW5xdWVyeSA9ICJJTlNFUlQgSU5UTyBgI0BfX2ZlZWRiYWNrYChgYWlkYCxgdHlwZWlkYCxgdXNlcm5hbWVgLGBhcmN0aXRsZWAsYGlwYCxgaXNjaGVja2AsYGR0aW1lYCwgYG1pZGAsYGJhZGAsYGdvb2RgLGBmdHlwZWAsYGZhY2VgLGBtc2dgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgVkFMVUVTICgnJGFpZCcsJyR0eXBlaWQnLCckdXNlcm5hbWUnLCckYXJjdGl0bGUnLCckaXAnLCckaXNjaGVjaycsJyRkdGltZScsICcwJywnMCcsJzAnLCdmZWVkYmFjaycsJycsJyRtc2cnKTsgIjsNCiAgICAgICAgJHJzID0gJGRzcWwtPkV4ZWN1dGVOb25lUXVlcnkoJGlucXVlcnkpOw0KICAgICAgICAkZmVlZGJhY2tfaWQgPSAkZHNxbC0+R2V0TGFzdElEKCk7DQogICAgICAgICRpbnF1ZXJ5ID0gIklOU0VSVCBJTlRPIGAjQF9fcGx1c19jaGFuZ3lhbl9pbXBvcnRpZHNgKGBhaWRgLGBmZWVkYmFja19pZGApIFZBTFVFUyAoJ3skYWlkfScsJ3skZmVlZGJhY2tfaWR9JykiOw0KICAgICAgICAkcnMgPSAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkaW5xdWVyeSk7DQogICAgICAgICRpbnF1ZXJ5ID0gIklOU0VSVCBJTlRPIGAjQF9fcGx1c19jaGFuZ3lhbl9pbnNlcnRpZHNgKGBhaWRgLGBjb21tZW50X2lkYCkgVkFMVUVTICgnJGFpZCcsJyRjb21tZW50X2lkJykiOw0KICAgICAgICAkcnMgPSAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkaW5xdWVyeSk7DQogICAgICAgICRpKys7DQogICAgfQ0KDQogICAgcmV0dXJuICRpOw0KICAgLy8gcmV0dXJuICRjb21tZW50Ow0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9jaGVja19pc2xvZ2luKCkNCnsNCiAgICBnbG9iYWwgJGRvcG9zdDsNCiAgICAkanF1ZXJ5X3VybCA9IENIQU5HWUFOX0pRVUVSWTsgLy9DSEFOR1lBTl9BUElfQUVTLiJhc3NldHMvanMvanF1ZXJ5Lm1pbi5qcyI7DQogICAgJGNoYW5neWFuX2xvZ2luPUNIQU5HWUFOX0FQSV9DSEVDS19MT0dJTjsNCiAgICBlY2hvIDw8PEVPVA0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ieyRqcXVlcnlfdXJsfSI+PC9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQooZnVuY3Rpb24oJCl7DQogICAgJC5hamF4KHsNCiAgICAgICAgdHlwZTogIkdFVCIsDQogICAgICAgIHVybDogInskY2hhbmd5YW5fbG9naW59IiwNCiAgICAgICAgZGF0YVR5cGUgOiAnanNvbnAnLA0KICAgICAgICBqc29ucENhbGxiYWNrOiJjYWxsZnVuYyIsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKG1zZyl7DQogICAgICAgICAgICBpZighbXNnLnN1Y2Nlc3Mpew0KICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPSc/ZG9wb3N0PWxvZ291dCZub21zZz15ZXMmZm9yd2FyZD17JGRvcG9zdH0nOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQp9KShqUXVlcnkpDQo8L3NjcmlwdD4gICAgDQpFT1Q7DQogICAgLy9leGl0Ow0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9nZXRfcmVjZW50KCRhcHBpZCwkZGF0ZSkNCnsNCiAgICAkZGF0ZSA9IHVybGVuY29kZSgkZGF0ZSk7DQogICAgJHJlY2VudF91cmw9Q0hBTkdZQU5fQVBJX1JFQ0VOVC4iLz9hcHBJZD17JGFwcGlkfSZkYXRlPXskZGF0ZX0iOw0KICAgIHJldHVybiBqc29uX2RlY29kZShjaGFuZ3lhbl9odHRwX3NlbmQoJHJlY2VudF91cmwpLFRSVUUpOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9sYXRlc3RzKCRjbGllbnRfaWQsJHBhZ2VzaXplPTIwLCRvcmRlcj0naG90JykNCnsNCiAgICAkbGF0ZXN0c191cmw9Q0hBTkdZQU5fQVBJX0xBVEVTVFMuIi8/Y2xpZW50X2lkPXskY2xpZW50X2lkfSZzaXplPXskcGFnZXNpemV9Jm9yZGVyX2J5PXskb3JkZXJ9IjsNCiAgICByZXR1cm4ganNvbl9kZWNvZGUoY2hhbmd5YW5faHR0cF9zZW5kKCRsYXRlc3RzX3VybCksVFJVRSk7DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2dldGNvZGUoJGNsaWVudF9pZCwgJHVzZXIsICRpc19tb2JpbGUsICRzaWduLCAkYXBwaWQ9IiIpDQp7DQogICAgJGdldGNvZGVfdXJsPUNIQU5HWUFOX0FQSV9DT0RFLiIvP2NsaWVudF9pZD17JGNsaWVudF9pZH0mdXNlcj17JHVzZXJ9JmlzX21vYmlsZT17JGlzX21vYmlsZX0mc2lnbj17JHNpZ259JnVzZXJfYXBwaWQ9eyRhcHBpZH0iOw0KICAgIHJldHVybiBqc29uX2RlY29kZShjaGFuZ3lhbl9odHRwX3NlbmQoJGdldGNvZGVfdXJsKSxUUlVFKTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0X3RvcGljX2NvbW1lbnRzKCRjbGllbnRfaWQsICRzaWQsICR1cmwpDQp7DQogICAgJGdldF90b3BpY19jb21tZW50c191cmw9Q0hBTkdZQU5fQVBJX1RPUElDQ09NTUVOVFMuIi8/Y2xpZW50X2lkPXskY2xpZW50X2lkfSZ0b3BpY19zb3VyY2VfaWQ9eyRzaWR9JnRvcGljX3VybD17JHVybH0iOw0KICAgIHJldHVybiBqc29uX2RlY29kZShjaGFuZ3lhbl9odHRwX3NlbmQoJGdldF90b3BpY19jb21tZW50c191cmwpLFRSVUUpOw0KfQ0KZnVuY3Rpb24gY2hhbmd5YW5faXNsb2dpbigpDQp7DQogICAgaWYoZW1wdHkoJF9TRVNTSU9OWydjaGFuZ3lhbiddKSkgew0KICAgICAgICByZXR1cm4gRkFMU0U7DQogICAgfQ0KICAgICR1c2VyID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAkcHdkID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3B3ZCcpOw0KICAgIGlmKGVtcHR5KCR1c2VyKSB8fCBlbXB0eSgkcHdkKSkgew0KICAgICAgICByZXR1cm4gRkFMU0U7DQogICAgfQ0KICAgIHJldHVybiBUUlVFOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9nZXRfc2V0dGluZygkc2tleSwgJHRpbWU9ZmFsc2UsICRyZWFsPWZhbHNlKQ0Kew0KICAgIGdsb2JhbCAkZHNxbDsNCiAgICBzdGF0aWMgJHNldHRpbmcgPSBhcnJheSgpOw0KICAgICRza2V5PWFkZHNsYXNoZXMoJHNrZXkpOw0KICAgIGlmIChlbXB0eSgkc2V0dGluZ1skc2tleV0pIHx8ICRyZWFsKSB7DQogICAgICAgICRyb3cgPSAkZHNxbC0+R2V0T25lKCJTRUxFQ1QgKiBGUk9NIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCBXSEVSRSBza2V5PSd7JHNrZXl9JyIpOw0KICAgICAgICAkc2V0dGluZ1skc2tleV1bJ3N2YWx1ZSddPSRyb3dbJ3N2YWx1ZSddOw0KICAgICAgICAkc2V0dGluZ1skc2tleV1bJ3N0aW1lJ109JHJvd1snc3RpbWUnXTsNCiAgICB9DQogICAgaWYgKCFpc3NldCgkc2V0dGluZ1skc2tleV0pKSByZXR1cm4gJHRpbWUgPyBhcnJheSgpIDogbnVsbDsNCiAgICByZXR1cm4gJHRpbWUgPyAkc2V0dGluZ1skc2tleV0gOiAkc2V0dGluZ1skc2tleV1bJ3N2YWx1ZSddOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9zZXRfc2V0dGluZygkc2tleSwgJHN2YWx1ZSkNCnsNCiAgICBnbG9iYWwgJGRzcWw7DQogICAgJHN0aW1lPXRpbWUoKTsNCiAgICAkc2tleT1hZGRzbGFzaGVzKCRza2V5KTsNCiAgICAkc3ZhbHVlPWFkZHNsYXNoZXMoJHN2YWx1ZSk7DQogICAgJHNxbD0iVVBEQVRFIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCBTRVQgc3ZhbHVlPSd7JHN2YWx1ZX0nLHN0aW1lPSd7JHN0aW1lfScgV0hFUkUgc2tleT0neyRza2V5fScgIjsNCiAgICAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkc3FsKTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fYWRkc2l0ZSgkdXNlciwgJGlzdl9uYW1lLCAkdXJsKQ0Kew0KICAgICRzaWduPWNoYW5neWFuX2dlbl9zaWduKCR1c2VyKTsNCiAgICAkcGFyYW1zQXJyPWFycmF5KA0KICAgICAgICAnY2xpZW50X2lkJz0+Q0hBTkdZQU5fQ0xJRU5UX0lELCANCiAgICAgICAgJ3VzZXInPT4kdXNlciwgDQogICAgICAgICdpc3ZfbmFtZSc9PiRpc3ZfbmFtZSwNCiAgICAgICAgJ3VybCc9PiR1cmwsDQogICAgICAgICdzaWduJz0+JHNpZ24pOw0KICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0FERFNJVEUsMCwkcGFyYW1zQXJyKTsNCiAgICByZXR1cm4ganNvbl9kZWNvZGUoJHJzLCBUUlVFKTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZm9yZ2V0X3B3ZCgkbWFpbCwmJGVycm9yX21zZz0nJykNCnsNCiAgICAkcGFyYW1zQXJyPWFycmF5KA0KICAgICAgICAnY2xpZW50X2lkJz0+Q0hBTkdZQU5fQ0xJRU5UX0lELCANCiAgICAgICAgJ21haWwnPT4kbWFpbCk7DQogICAgJHJzPWpzb25fZGVjb2RlKGNoYW5neWFuX2h0dHBfc2VuZChDSEFOR1lBTl9BUElfRk9SR0VUX1BXRCwwLCRwYXJhbXNBcnIpLCBUUlVFKTsNCiAgICBpZighJHJzWydzdWNjZXNzJ10pDQogICAgew0KICAgICAgICAkZXJyb3JfbXNnPSRyc1snbXNnJ107DQogICAgICAgIHJldHVybiBGQUxTRTsNCiAgICB9DQogICAgcmV0dXJuIFRSVUU7DQp9DQoNCj8+DQo=
</file>
<file type='file' name='../include/taglib/changyan.lib.php'>
PD9waHAgICBpZighZGVmaW5lZCgnREVERUlOQycpKSBleGl0KCdSZXF1ZXN0IEVycm9yIScpOw0KDQpoZWxwZXIoJ2NoYW5neWFuJyk7DQpoZWxwZXIoJ2NhY2hlJyk7DQokR0xPQkFMU1snY2hhbmd5YW5fY291bnRfanMnXSA9IGlzc2V0KCRHTE9CQUxTWydjaGFuZ3lhbl9jb3VudF9qcyddKT8gJEdMT0JBTFNbJ2NoYW5neWFuX2NvdW50X2pzJ10gOiBGQUxTRTsNCmZ1bmN0aW9uIGxpYl9jaGFuZ3lhbigmJGN0YWcsJiRyZWZPYmopDQp7DQogICAgZ2xvYmFsICRkc3FsLCAkZW52czsNCiAgICAvL+WxnuaAp+WkhOeQhg0KICAgICR0eXBlID0gZW1wdHkoJHR5cGUpPyAnY29kZScgOiAkdHlwZTsNCiAgICAkY2xhc3MgPSBlbXB0eSgkY2xhc3MpPyAnX0RFREVDWScgOiAkY2xhc3M7DQogICAgJHZlcnNpb24gPSBDSEFOR1lBTl9WRVI7DQogICAgJGF0dGxpc3Q9InR5cGV8Y29kZSxjb25maWd8LGNsYXNzfF9ERURFQ1ksc3R5bGV8IjsNCiAgICBGaWxsQXR0c0RlZmF1bHQoJGN0YWctPkNBdHRyaWJ1dGUtPkl0ZW1zLCRhdHRsaXN0KTsNCiAgICBleHRyYWN0KCRjdGFnLT5DQXR0cmlidXRlLT5JdGVtcywgRVhUUl9TS0lQKTsNCiAgICANCiAgICAkcmV2YWw9IiI7DQogICAgDQogICAgaWYoICEkZHNxbC0+SXNUYWJsZSgiI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZyIpICkgcmV0dXJuICfmsqHlronoo4XnlYXoqIDmqKHlnZcnOw0KICAgIA0KICAgICRjbGllbnRfaWQ9Y2hhbmd5YW5fZ2V0X3NldHRpbmcoJ2FwcGlkJyk7DQogICAgaWYoZW1wdHkoJGNsaWVudF9pZCkpIHJldHVybiAn5bCa5pyq5rOo5YaM55WF6KiA5biQ5Y+377yM6K+35Yiw5ZCO5Y+w5rOo5YaMJzsNCiAgICANCiAgICBpZigkdHlwZT09J2NvZGUnIE9SICR0eXBlPT0nY29kZTInKQ0KICAgIHsNCiAgICAgICAgJHJldmFsIC49ICI8ZGl2IGNsYXNzPSd7JGNsYXNzfScgc3R5bGU9J3skc3R5bGV9JyBkYXRhLXZlcmlvbj0neyR2ZXJzaW9ufSc+IjsNCiAgICAgICAgJHByZWZpeCA9ICdjaGFuZ3lhbic7DQogICAgICAgICRrZXkgPSAnY29kZSc7DQogICAgICAgICRyb3cgPSBHZXRDYWNoZSgkcHJlZml4LCAka2V5KTsNCg0KICAgICAgICBpZighaXNfYXJyYXkoJHJvdykpDQogICAgICAgIHsNCiAgICAgICAgICAgICRhcHBpZD1jaGFuZ3lhbl9nZXRfc2V0dGluZygnYXBwaWQnKTsNCiAgICAgICAgICAgICR1c2VyPWNoYW5neWFuX2dldF9zZXR0aW5nKCd1c2VyJyk7DQogICAgICAgICAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgICAgICAgICAkcmVzdWx0ID0gY2hhbmd5YW5fZ2V0Y29kZShDSEFOR1lBTl9DTElFTlRfSUQsICR1c2VyLCBmYWxzZSwgJHNpZ24sICRhcHBpZCk7DQogICAgICAgICAgICAkcm93WydyZXZhbCddID0gaHRtbHNwZWNpYWxjaGFycygkcmVzdWx0Wydjb2RlJ10pOw0KICAgICAgICAgICAgU2V0Q2FjaGUoJHByZWZpeCwgJGtleSwgJHJvdywgNjAqNjAqMSk7DQogICAgICAgIH0NCiAgICAgICAgaWYoIWVtcHR5KCRjb25maWcpKQ0KICAgICAgICB7DQogICAgICAgICAgICAkY29uZmlnX2FyciA9IGFycmF5KCk7DQogICAgICAgICAgICAkY29uZmlncyA9IGV4cGxvZGUoJywnLCAkY29uZmlnKTsNCiAgICAgICAgICAgIGlmKGNvdW50KCRjb25maWdzKT4wKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGZvcmVhY2goJGNvbmZpZ3MgYXMgJGMpIHsNCiAgICAgICAgICAgICAgICAgICAgJGl0ZW0gPSBleHBsb2RlKCc6JywgJGMpOw0KICAgICAgICAgICAgICAgICAgICAkY29uZmlnX2FyclskaXRlbVswXV0gPSAkaXRlbVsxXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkY29uZmlnX3N0ciA9IGpzb25fZW5jb2RlKCRjb25maWdfYXJyKTsNCiAgICAgICAgICAgICRyZXZhbCAuPSA8PDxFT1QNCjxzY3JpcHQ+DQogICAgdmFyX2NvbmZpZz17JGNvbmZpZ19zdHJ9Ow0KPC9zY3JpcHQ+DQpFT1Q7DQogICAgICAgIH0NCiAgICAgICAgJHJldmFsIC49IGh0bWxzcGVjaWFsY2hhcnNfZGVjb2RlKCRyb3dbJ3JldmFsJ10pOw0KICAgICAgICAkcmV2YWw9c3RyX3JlcGxhY2UoImlkPSdTT0hVQ1MnIiwgImlkPSdTT0hVQ1MnIHNpZD0neyRyZWZPYmotPkFyY0lEfSciLCAkcmV2YWwpOw0KICAgICAgICBpZigkdHlwZT09J2NvZGUyJykgJHJldmFsPXByZWdfcmVwbGFjZSgiI3dpbmRvdy5TQ1NfTk9fSUZSQU1FWyBdPz1bIF0/dHJ1ZTsjaSIsICIiLCAkcmV2YWwpOw0KICAgICAgICAkcmV2YWw9c3RyX3JlcGxhY2UoIjxzY3JpcHQ+IiwgIjwvZGl2PjxzY3JpcHQ+IiwgJHJldmFsKTsNCiAgICB9IGVsc2VpZigkdHlwZT09J2NvdW50Jykgew0KICAgICAgICBpZighJEdMT0JBTFNbJ2NoYW5neWFuX2NvdW50X2pzJ10pICRyZXZhbC49IjxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cImh0dHA6Ly9hc3NldHMuY2hhbmd5YW4ua3VhaXpoYW4uY29tL3VwbG9hZC9wbHVnaW5zL3BsdWdpbnMuY291bnQuanNcIj48L3NjcmlwdD4iOw0KICAgICAgICAkcmV2YWwuPSI8YSBocmVmPVwiI1NPSFVDU1wiIGlkPVwiY2hhbmd5YW5fY291bnRfdW5pdFwiPjwvYT4iOw0KICAgICAgICAkR0xPQkFMU1snY2hhbmd5YW5fY291bnRfanMnXSA9IFRSVUU7DQogICAgfQ0KICAgICRzZW9faHRtbCA9IGNoYW5neWFuX3Nlb19jb21tZW50KCRjbGllbnRfaWQsICRyZWZPYmotPkFyY0lEKTsNCiAgICByZXR1cm4gJHJldmFsLiRzZW9faHRtbDsNCn0NCmZ1bmN0aW9uIGNoYW5neWFuX3Nlb19jb21tZW50KCRjbGllbnRfaWQsICRzaWQsICR1cmw9bnVsbCkNCnsNCiAgICAkaHRtbCA9ICcnOw0KICAgICRjb250ZW50cyA9ICcnOw0KICAgICRoZWFkID0gPDw8RU9UDQoNCjxkaXYgaWQ9ImNoYW5neWFuLWNvbW1lbnRzIiBzdHlsZT0iZGlzcGxheTpub25lIj4NCiAgICA8b2wgaWQ9ImNvbW1lbnRzLWxpc3QiPg0KRU9UOw0KICAgICRmb290ZXIgPSA8PDxFT1QNCiAgICA8L29sPg0KPC9kaXY+DQpFT1Q7DQogICAgJHRvcGljX2luZm8gPSBjaGFuZ3lhbl9nZXRfdG9waWNfY29tbWVudHMoJGNsaWVudF9pZCwgJHNpZCwgJHVybCk7DQogICAgaWYoZW1wdHkoJHRvcGljX2luZm9bJ2Vycm9yX2NvZGUnXSkgJiYgIWVtcHR5KCR0b3BpY19pbmZvWyd0b3BpY19pZCddKSkgew0KICAgICAgICAkY29tbWVudHNfaW5mbyA9IGNoYW5neWFuX2dldF9jb21tZW50cygkY2xpZW50X2lkLCAkdG9waWNfaW5mb1sndG9waWNfaWQnXSk7DQogICAgICAgIGlmKGVtcHR5KCRjb21tZW50c19pbmZvWydlcnJvcl9jb2RlJ10pICYmICFlbXB0eSgkY29tbWVudHNfaW5mb1snY29tbWVudHMnXSkpIHsNCiAgICAgICAgICAgICRjb21tZW50cyA9ICRjb21tZW50c19pbmZvWydjb21tZW50cyddOw0KICAgICAgICAgICAgZm9yZWFjaCggJGNvbW1lbnRzIGFzICRjb21tZW50ICkgew0KICAgICAgICAgICAgICAgICRjb250ZW50cyAuPSAnDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbW1lbnQiPicuaWNvbnYoIlVURi04IiwiR0IyMzEyIiwkY29tbWVudFsncGFzc3BvcnQnXVsnbmlja25hbWUnXSkuJyDDi8K1OiAnOw0KICAgICAgICAgICAgICAgICRjb250ZW50cy49IGljb252KCJVVEYtOCIsIkdCMjMxMiIsJGNvbW1lbnRbJ2NvbnRlbnQnXSkuJw0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgJGNvbnRlbnRzID0gIuiOt+WPluivhOiuuuWksei0pSI7DQogICAgfQ0KICAgICRodG1sID0gJGhlYWQuJGNvbnRlbnRzLiRmb290ZXI7DQogICAgcmV0dXJuICRodG1sOw0KfQ0K
</file>
</modulefiles>
</module>
